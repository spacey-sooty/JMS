{"ast":null,"code":"import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Col,Row}from\"react-bootstrap\";import AudienceCard from\"./AudienceCard\";import BaseAudienceScene from\"./BaseAudienceScene\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AudienceSceneAllianceSelection=/*#__PURE__*/function(_BaseAudienceScene){_inherits(AudienceSceneAllianceSelection,_BaseAudienceScene);var _super=_createSuper(AudienceSceneAllianceSelection);function AudienceSceneAllianceSelection(){var _this;_classCallCheck(this,AudienceSceneAllianceSelection);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={alliances:[],rankings:[]};_this.componentDidMount=function(){return _this.handles=[_this.listen(\"Event/Alliance/CurrentAll\",\"alliances\"),_this.listen(\"Event/Ranking/CurrentAll\",\"rankings\")];};_this.show=function(){var _this$state=_this.state,alliances=_this$state.alliances,rankings=_this$state.rankings;var chosen=alliances.flatMap(function(a){return a.teams;}).filter(function(x){return!!x;});var remaining=rankings.filter(function(r){return!chosen.includes(r.team);}).map(function(r,i){return{id:r.team.toString(),rank:i+1};});return/*#__PURE__*/_jsxs(AudienceCard,{event_name:_this.props.details.event_name,className:\"audience-alliance-selection\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:7,className:\"audience-card-title\",children:\" Alliance Selection \"}),/*#__PURE__*/_jsx(Col,{className:\"audience-card-title text-end\",children:\" Remaining Teams \"})]}),/*#__PURE__*/_jsxs(Row,{className:\"grow\",children:[/*#__PURE__*/_jsxs(Col,{className:\"alliance-table\",md:7,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:1,children:\" # \"}),/*#__PURE__*/_jsx(Col,{children:\" Captain \"}),/*#__PURE__*/_jsx(Col,{children:\" Pick 1 \"}),/*#__PURE__*/_jsx(Col,{children:\" Pick 2 \"}),/*#__PURE__*/_jsx(Col,{children:\" Pick 3 \"})]}),alliances.map(function(alliance){return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:1,children:[\" \",alliance.id,\" \"]}),[0,1,2,3].map(function(i){return/*#__PURE__*/_jsx(Col,{children:alliance.teams[i]});})]});})]}),/*#__PURE__*/_jsx(Col,{className:\"alliance-remaining\",children:/*#__PURE__*/_jsx(Row,{className:\"flex-wrap\",children:remaining.map(function(r){return/*#__PURE__*/_jsxs(Col,{md:\"auto\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"rank\",children:r.rank}),\": \",r.id]});})})})]})]});};return _this;}return _createClass(AudienceSceneAllianceSelection);}(BaseAudienceScene);export{AudienceSceneAllianceSelection as default};","map":{"version":3,"names":["Col","Row","AudienceCard","BaseAudienceScene","AudienceSceneAllianceSelection","state","alliances","rankings","componentDidMount","handles","listen","show","chosen","flatMap","a","teams","filter","x","remaining","r","includes","team","map","i","id","toString","rank","props","details","event_name","alliance"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/audience/AllianceSelection.tsx"],"sourcesContent":["import { Col, Row } from \"react-bootstrap\";\nimport { PlayoffAlliance, TeamRanking } from \"ws-schema\";\nimport AudienceCard from \"./AudienceCard\";\nimport BaseAudienceScene from \"./BaseAudienceScene\";\n\ntype AudienceSceneAllianceSelectionState = {\n  alliances: PlayoffAlliance[],\n  rankings: TeamRanking[]\n};\n\nexport default class AudienceSceneAllianceSelection extends BaseAudienceScene<{}, AudienceSceneAllianceSelectionState> {\n  readonly state: AudienceSceneAllianceSelectionState = {\n    alliances: [], rankings: []\n  };\n\n  componentDidMount = () => this.handles = [\n    this.listen(\"Event/Alliance/CurrentAll\", \"alliances\"),\n    this.listen(\"Event/Ranking/CurrentAll\", \"rankings\")\n  ];\n\n  show = () => {\n    const { alliances, rankings } = this.state;\n\n    const chosen = alliances.flatMap(a => a.teams).filter(x => !!x);\n    const remaining = rankings.filter(r => !chosen.includes(r.team)).map((r, i) => (\n      { id: r.team.toString(), rank: i + 1 }\n    ));\n\n    return <AudienceCard event_name={this.props.details.event_name} className=\"audience-alliance-selection\">\n      <Row>\n        <Col md={7} className=\"audience-card-title\"> Alliance Selection </Col>\n        <Col className=\"audience-card-title text-end\"> Remaining Teams </Col>\n      </Row>\n      <Row className=\"grow\">\n        <Col className=\"alliance-table\" md={7}>\n          <Row>\n            <Col md={1}> # </Col>\n            <Col> Captain </Col>\n            <Col> Pick 1 </Col>\n            <Col> Pick 2 </Col>\n            <Col> Pick 3 </Col>\n          </Row>\n          {\n            alliances.map(alliance => <Row>\n              <Col md={1}> { alliance.id } </Col>\n              {\n                [0, 1, 2, 3].map(i => <Col>\n                  { alliance.teams[i] }\n                </Col>)\n              }\n            </Row>)\n          }\n        </Col>\n        <Col className=\"alliance-remaining\">\n          <Row className=\"flex-wrap\">\n            {\n              remaining.map(r => <Col md=\"auto\">\n                <span className=\"rank\">{ r.rank }</span>: { r.id }\n              </Col>)\n            }\n          </Row>\n        </Col>\n      </Row>\n    </AudienceCard>\n  }\n}"],"mappings":"giBAAA,OAASA,GAAT,CAAcC,GAAd,KAAyB,iBAAzB,CAEA,MAAOC,aAAP,KAAyB,gBAAzB,CACA,MAAOC,kBAAP,KAA8B,qBAA9B,C,2FAOqBC,+B,2aACVC,K,CAA6C,CACpDC,SAAS,CAAE,EADyC,CACrCC,QAAQ,CAAE,EAD2B,C,OAItDC,iB,CAAoB,iBAAM,OAAKC,OAAL,CAAe,CACvC,MAAKC,MAAL,CAAY,2BAAZ,CAAyC,WAAzC,CADuC,CAEvC,MAAKA,MAAL,CAAY,0BAAZ,CAAwC,UAAxC,CAFuC,CAArB,E,OAKpBC,I,CAAO,UAAM,CACX,gBAAgC,MAAKN,KAArC,CAAQC,SAAR,aAAQA,SAAR,CAAmBC,QAAnB,aAAmBA,QAAnB,CAEA,GAAMK,OAAM,CAAGN,SAAS,CAACO,OAAV,CAAkB,SAAAC,CAAC,QAAIA,EAAC,CAACC,KAAN,EAAnB,EAAgCC,MAAhC,CAAuC,SAAAC,CAAC,QAAI,CAAC,CAACA,CAAN,EAAxC,CAAf,CACA,GAAMC,UAAS,CAAGX,QAAQ,CAACS,MAAT,CAAgB,SAAAG,CAAC,QAAI,CAACP,MAAM,CAACQ,QAAP,CAAgBD,CAAC,CAACE,IAAlB,CAAL,EAAjB,EAA+CC,GAA/C,CAAmD,SAACH,CAAD,CAAII,CAAJ,QACnE,CAAEC,EAAE,CAAEL,CAAC,CAACE,IAAF,CAAOI,QAAP,EAAN,CAAyBC,IAAI,CAAEH,CAAC,CAAG,CAAnC,CADmE,EAAnD,CAAlB,CAIA,mBAAO,MAAC,YAAD,EAAc,UAAU,CAAE,MAAKI,KAAL,CAAWC,OAAX,CAAmBC,UAA7C,CAAyD,SAAS,CAAC,6BAAnE,wBACL,MAAC,GAAD,yBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,qBAAtB,kCADF,cAEE,KAAC,GAAD,EAAK,SAAS,CAAC,8BAAf,+BAFF,GADK,cAKL,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACE,MAAC,GAAD,EAAK,SAAS,CAAC,gBAAf,CAAgC,EAAE,CAAE,CAApC,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,iBADF,cAEE,KAAC,GAAD,wBAFF,cAGE,KAAC,GAAD,uBAHF,cAIE,KAAC,GAAD,uBAJF,cAKE,KAAC,GAAD,uBALF,GADF,CASIvB,SAAS,CAACgB,GAAV,CAAc,SAAAQ,QAAQ,qBAAI,MAAC,GAAD,yBACxB,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eAAeA,QAAQ,CAACN,EAAxB,OADwB,CAGtB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,EAAaF,GAAb,CAAiB,SAAAC,CAAC,qBAAI,KAAC,GAAD,WAClBO,QAAQ,CAACf,KAAT,CAAeQ,CAAf,CADkB,EAAJ,EAAlB,CAHsB,GAAJ,EAAtB,CATJ,GADF,cAoBE,KAAC,GAAD,EAAK,SAAS,CAAC,oBAAf,uBACE,KAAC,GAAD,EAAK,SAAS,CAAC,WAAf,UAEIL,SAAS,CAACI,GAAV,CAAc,SAAAH,CAAC,qBAAI,MAAC,GAAD,EAAK,EAAE,CAAC,MAAR,wBACjB,aAAM,SAAS,CAAC,MAAhB,UAAyBA,CAAC,CAACO,IAA3B,EADiB,MAC2BP,CAAC,CAACK,EAD7B,GAAJ,EAAf,CAFJ,EADF,EApBF,GALK,GAAP,CAoCD,C,qEAtDyDrB,iB,SAAvCC,8B"},"metadata":{},"sourceType":"module"}