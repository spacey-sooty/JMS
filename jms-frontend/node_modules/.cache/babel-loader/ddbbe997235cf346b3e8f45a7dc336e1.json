{"ast":null,"code":"import _regeneratorRuntime from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";var _excluded=[\"className\",\"title\",\"confirmation\",\"show\",\"proceed\",\"cancel\",\"dismiss\",\"render\",\"renderInner\",\"okBtn\",\"cancelBtn\",\"okText\",\"cancelText\",\"cancelIfBackdrop\",\"okVariant\",\"cancelVariant\"];import React from\"react\";import{Button,Modal}from\"react-bootstrap\";import{createConfirmation,confirmable}from'react-confirm';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ConfirmModal=/*#__PURE__*/function(_React$Component){_inherits(ConfirmModal,_React$Component);var _super=_createSuper(ConfirmModal);function ConfirmModal(){var _this;_classCallCheck(this,ConfirmModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:_this.props.data};_this.componentDidUpdate=function(prevProps){if(prevProps.data!==_this.props.data){_this.setState({data:_this.props.data});}};return _this;}_createClass(ConfirmModal,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,className=_this$props.className,title=_this$props.title,confirmation=_this$props.confirmation,show=_this$props.show,proceed=_this$props.proceed,cancel=_this$props.cancel,dismiss=_this$props.dismiss,render=_this$props.render,renderInner=_this$props.renderInner,okBtn=_this$props.okBtn,cancelBtn=_this$props.cancelBtn,okText=_this$props.okText,cancelText=_this$props.cancelText,cancelIfBackdrop=_this$props.cancelIfBackdrop,okVariant=_this$props.okVariant,cancelVariant=_this$props.cancelVariant,props=_objectWithoutProperties(_this$props,_excluded);// @ts-ignore\nvar okFn=function okFn(data){return proceed(data);};var cancelFn=function cancelFn(){return cancel();};return/*#__PURE__*/_jsxs(Modal,_objectSpread(_objectSpread({show:show,onHide:cancelFn,backdrop:cancelIfBackdrop?undefined:\"static\",centered:true},props),{},{children:[title?/*#__PURE__*/_jsxs(Modal.Header,{children:[\" \",/*#__PURE__*/_jsxs(Modal.Title,{children:[\" \",title,\" \"]}),\" \"]}):undefined,render?render(okFn,cancelFn):/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Modal.Body,{children:renderInner?renderInner(this.state.data,function(data){return _this2.setState({data:data});},function(){return okFn(_this2.state.data);},cancelFn):confirmation||\"Are you sure?\"}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[okBtn?/*#__PURE__*/_jsx(Button,_objectSpread(_objectSpread({},okBtn),{},{onClick:function onClick(){return okFn(_this2.state.data);}})):/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return okFn(_this2.state.data);},variant:okVariant||\"success\",children:okText||\"OK\"}),cancelBtn?/*#__PURE__*/_jsx(Button,_objectSpread(_objectSpread({},cancelBtn),{},{onClick:function onClick(){return cancelFn();}})):/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return cancelFn();},variant:cancelVariant||\"secondary\",children:cancelText||\"Cancel\"})]})]})]}));}}]);return ConfirmModal;}(React.Component);var confirmBackend=createConfirmation(confirmable(ConfirmModal));export function confirmModal(_x,_x2){return _confirmModal.apply(this,arguments);}function _confirmModal(){_confirmModal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(confirmation,options){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return confirmBackend(_objectSpread({confirmation:confirmation},options||{}));case 2:data=_context.sent;return _context.abrupt(\"return\",data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _confirmModal.apply(this,arguments);}export default function confirmBool(_x3,_x4){return _confirmBool.apply(this,arguments);}function _confirmBool(){_confirmBool=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(confirmation,options){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return confirmBackend(_objectSpread({confirmation:confirmation,title:\"Are you sure?\",okText:\"Yes\",okVariant:\"danger\"},options||{}));case 3:return _context2.abrupt(\"return\",true);case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",false);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return _confirmBool.apply(this,arguments);}export function withConfirm(_x5,_x6,_x7){return _withConfirm.apply(this,arguments);}function _withConfirm(){_withConfirm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(fn,confirmation,options){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return confirmBool(confirmation||\"Are you sure?\",options);case 2:if(!_context3.sent){_context3.next=4;break;}fn();case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _withConfirm.apply(this,arguments);}","map":{"version":3,"names":["React","Button","Modal","createConfirmation","confirmable","ConfirmModal","state","data","props","componentDidUpdate","prevProps","setState","className","title","confirmation","show","proceed","cancel","dismiss","render","renderInner","okBtn","cancelBtn","okText","cancelText","cancelIfBackdrop","okVariant","cancelVariant","okFn","cancelFn","undefined","Component","confirmBackend","confirmModal","options","confirmBool","withConfirm","fn"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/components/elements/Confirm.tsx"],"sourcesContent":["import React from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\n\nimport { createConfirmation, confirmable, ReactConfirmProps } from 'react-confirm';\n\ntype ConfirmModalOptions<T> = {\n  title?: React.ReactNode,\n\n  // Either this....\n  okBtn?: Omit<React.ComponentProps<typeof Button>, \"onClick\">,\n  cancelBtn?: Omit<React.ComponentProps<typeof Button>, \"onClick\">,\n  \n  // Or this...\n  render?: (ok: (data?: T) => void, cancel: () => void) => React.ReactNode,\n  \n  // Or this...\n  okText?: React.ReactNode,\n  cancelText?: React.ReactNode,\n  okVariant?: string,\n  cancelVariant?: string,\n\n  cancelIfBackdrop?: boolean,\n\n  renderInner?: (data: T, onUpdate: (data: T) => void, ok: () => void, cancel: () => void) => React.ReactNode,\n  data?: T\n} & Omit<React.ComponentProps<typeof Modal>, \"show\" | \"onHide\">;\n\ntype ConfirmModalProps<T> = ReactConfirmProps & ConfirmModalOptions<T>;\n\nexport class ConfirmModal extends React.Component<ConfirmModalProps<any>, { data: any }> {\n  readonly state: { data: any } = { data: this.props.data };\n\n  componentDidUpdate = (prevProps: ConfirmModalProps<any>) => {\n    if (prevProps.data !== this.props.data) {\n      this.setState({ data: this.props.data });\n    }\n  }\n\n  render() {\n    const { className, title, confirmation, show, proceed, cancel, dismiss, render, renderInner, okBtn, cancelBtn, okText, cancelText, cancelIfBackdrop, okVariant, cancelVariant, ...props } = this.props;\n\n    // @ts-ignore\n    const okFn = (data?: any) => proceed(data);\n    const cancelFn = () => cancel();\n\n    return <Modal\n      show={show}\n      onHide={cancelFn}\n      backdrop={cancelIfBackdrop ? undefined : \"static\"}\n      centered\n      { ...props }\n    >\n      {\n        title ? <Modal.Header> <Modal.Title> { title } </Modal.Title> </Modal.Header> : undefined\n      }\n      {\n        render ? render(okFn, cancelFn) : <React.Fragment>\n          <Modal.Body> \n            {\n              renderInner ? renderInner(this.state.data, (data: any) => this.setState({ data: data }), () => okFn(this.state.data), cancelFn)\n                : (confirmation || \"Are you sure?\")\n            }\n          </Modal.Body>\n          <Modal.Footer>\n            {\n              okBtn ? <Button {...okBtn} onClick={() => okFn(this.state.data)} /> : \n              <Button\n                onClick={() => okFn(this.state.data)}\n                variant={okVariant || \"success\"}\n              >\n                { okText || \"OK\" }\n              </Button>\n            }\n\n            {\n              cancelBtn ? <Button {...cancelBtn} onClick={() => cancelFn()} /> : \n              <Button\n                onClick={() => cancelFn()}\n                variant={cancelVariant || \"secondary\"}\n              >\n                { cancelText || \"Cancel\" }\n              </Button>\n            }\n          </Modal.Footer>\n        </React.Fragment>\n      }\n    </Modal>\n  }\n}\n\nconst confirmBackend = createConfirmation(confirmable(ConfirmModal));\n\nexport async function confirmModal<T>(confirmation: ReactConfirmProps[\"confirmation\"], options?: ConfirmModalOptions<T>) {\n  let data: any = await confirmBackend({ confirmation, ...(options || {}) });\n  return data as T;\n}\n\nexport default async function confirmBool(confirmation: ReactConfirmProps[\"confirmation\"], options?: ConfirmModalOptions<{}>) {\n  try {\n    await confirmBackend({ confirmation, title: \"Are you sure?\", okText: \"Yes\", okVariant: \"danger\", ...(options || {}) });\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport async function withConfirm(fn: () => void, confirmation?: ReactConfirmProps[\"confirmation\"], options?: ConfirmModalOptions<{}>) {\n  if (await confirmBool(confirmation || \"Are you sure?\", options)) {\n    fn();\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}