{"ast":null,"code":"import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{faChevronCircleLeft,faChevronCircleRight}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import React from\"react\";import{Button,Container,Col,Row}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Paginate=/*#__PURE__*/function(_React$Component){_inherits(Paginate,_React$Component);var _super=_createSuper(Paginate);function Paginate(){var _this;_classCallCheck(this,Paginate);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={page:0};return _this;}_createClass(Paginate,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,children=_this$props.children,itemsPerPage=_this$props.itemsPerPage;var page=this.state.page;var n_pages=Math.floor(children.length/itemsPerPage)+1;return/*#__PURE__*/_jsxs(Container,{className:\"paginate\",children:[/*#__PURE__*/_jsx(Row,{className:\"paginate-body\",children:/*#__PURE__*/_jsx(Col,{children:children.slice(page*itemsPerPage,Math.min(children.length,(page+1)*itemsPerPage))})}),/*#__PURE__*/_jsxs(Row,{className:\"paginate-footer\",children:[/*#__PURE__*/_jsx(Col,{className:\"paginate-prev\",md:2,children:/*#__PURE__*/_jsxs(Button,{variant:\"link\",disabled:page===0,onClick:function onClick(){return _this2.setState({page:page-1});},children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faChevronCircleLeft}),\" \"]})}),/*#__PURE__*/_jsxs(Col,{className:\"paginate-page\",children:[page+1,\" of \",n_pages]}),/*#__PURE__*/_jsx(Col,{className:\"paginate-next\",md:2,children:/*#__PURE__*/_jsxs(Button,{variant:\"link\",disabled:page===n_pages-1,onClick:function onClick(){return _this2.setState({page:page+1});},children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faChevronCircleRight}),\" \"]})})]})]});}}],[{key:\"getDerivedStateFromProps\",value:// componentDidUpdate = (prevProps: PaginateProps<T>, prevState: PaginateState): PaginateState => {\n//   if (prevState.page > Math.floor(this.props.items.length / this.props.itemsPerPage))\n//     return Math.floor(this.props.items.length / this.props.itemsPerPage);\n// }\nfunction getDerivedStateFromProps(props,state){var n_pages=Math.floor(props.children.length/props.itemsPerPage)+1;return state.page>=n_pages?{page:n_pages-1}:null;}}]);return Paginate;}(React.Component);export{Paginate as default};","map":{"version":3,"names":["faChevronCircleLeft","faChevronCircleRight","FontAwesomeIcon","React","Button","Container","Col","Row","Paginate","state","page","props","children","itemsPerPage","n_pages","Math","floor","length","slice","min","setState","Component"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/components/elements/Paginate.tsx"],"sourcesContent":["import { faChevronCircleLeft, faChevronCircleRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Button, Container, Col, Row } from \"react-bootstrap\";\n\ntype PaginateProps = {\n  children: React.ReactElement[],\n  itemsPerPage: number\n};\n\ntype PaginateState = {\n  page: number\n};\n\nexport default class Paginate extends React.Component<PaginateProps, PaginateState> {\n  readonly state: PaginateState = { page: 0 };\n  // componentDidUpdate = (prevProps: PaginateProps<T>, prevState: PaginateState): PaginateState => {\n  //   if (prevState.page > Math.floor(this.props.items.length / this.props.itemsPerPage))\n  //     return Math.floor(this.props.items.length / this.props.itemsPerPage);\n  // }\n\n  static getDerivedStateFromProps(props: PaginateProps, state: PaginateState) {\n    const n_pages = Math.floor(props.children.length / props.itemsPerPage) + 1;\n    return (state.page >= n_pages) ? { page: n_pages - 1 } : null;\n  }\n\n  render() {\n    const { children, itemsPerPage } = this.props;\n    const { page } = this.state;\n\n    const n_pages = Math.floor(children.length / itemsPerPage) + 1;\n\n    return <Container className=\"paginate\">\n      <Row className=\"paginate-body\">\n        <Col>\n          {\n            children.slice(page * itemsPerPage, Math.min(children.length, (page + 1)*itemsPerPage))\n          }\n        </Col>\n      </Row>\n      <Row className=\"paginate-footer\">\n        <Col className=\"paginate-prev\" md={2}>\n          <Button variant=\"link\" disabled={page === 0} onClick={() => this.setState({ page: page - 1 })}> <FontAwesomeIcon icon={faChevronCircleLeft} /> </Button>\n        </Col>\n        <Col className=\"paginate-page\">\n          { page + 1 } of { n_pages }\n        </Col>\n        <Col className=\"paginate-next\" md={2}>\n          <Button variant=\"link\" disabled={page === (n_pages-1)} onClick={() => this.setState({ page: page + 1 })}> <FontAwesomeIcon icon={faChevronCircleRight} /> </Button>\n        </Col>\n      </Row>\n    </Container>\n  }\n}"],"mappings":"giBAAA,OAASA,mBAAT,CAA8BC,oBAA9B,KAA0D,mCAA1D,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,SAAjB,CAA4BC,GAA5B,CAAiCC,GAAjC,KAA4C,iBAA5C,C,2FAWqBC,S,+UACVC,K,CAAuB,CAAEC,IAAI,CAAE,CAAR,C,0DAWhC,iBAAS,iBACP,gBAAmC,KAAKC,KAAxC,CAAQC,QAAR,aAAQA,QAAR,CAAkBC,YAAlB,aAAkBA,YAAlB,CACA,GAAQH,KAAR,CAAiB,KAAKD,KAAtB,CAAQC,IAAR,CAEA,GAAMI,QAAO,CAAGC,IAAI,CAACC,KAAL,CAAWJ,QAAQ,CAACK,MAAT,CAAkBJ,YAA7B,EAA6C,CAA7D,CAEA,mBAAO,MAAC,SAAD,EAAW,SAAS,CAAC,UAArB,wBACL,KAAC,GAAD,EAAK,SAAS,CAAC,eAAf,uBACE,KAAC,GAAD,WAEID,QAAQ,CAACM,KAAT,CAAeR,IAAI,CAAGG,YAAtB,CAAoCE,IAAI,CAACI,GAAL,CAASP,QAAQ,CAACK,MAAlB,CAA0B,CAACP,IAAI,CAAG,CAAR,EAAWG,YAArC,CAApC,CAFJ,EADF,EADK,cAQL,MAAC,GAAD,EAAK,SAAS,CAAC,iBAAf,wBACE,KAAC,GAAD,EAAK,SAAS,CAAC,eAAf,CAA+B,EAAE,CAAE,CAAnC,uBACE,MAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,QAAQ,CAAEH,IAAI,GAAK,CAA1C,CAA6C,OAAO,CAAE,yBAAM,OAAI,CAACU,QAAL,CAAc,CAAEV,IAAI,CAAEA,IAAI,CAAG,CAAf,CAAd,CAAN,EAAtD,4BAAgG,KAAC,eAAD,EAAiB,IAAI,CAAEV,mBAAvB,EAAhG,OADF,EADF,cAIE,MAAC,GAAD,EAAK,SAAS,CAAC,eAAf,WACIU,IAAI,CAAG,CADX,QACoBI,OADpB,GAJF,cAOE,KAAC,GAAD,EAAK,SAAS,CAAC,eAAf,CAA+B,EAAE,CAAE,CAAnC,uBACE,MAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,QAAQ,CAAEJ,IAAI,GAAMI,OAAO,CAAC,CAAnD,CAAuD,OAAO,CAAE,yBAAM,OAAI,CAACM,QAAL,CAAc,CAAEV,IAAI,CAAEA,IAAI,CAAG,CAAf,CAAd,CAAN,EAAhE,4BAA0G,KAAC,eAAD,EAAiB,IAAI,CAAET,oBAAvB,EAA1G,OADF,EAPF,GARK,GAAP,CAoBD,C,0CApCD;AACA;AACA;AACA;AAEA,kCAAgCU,KAAhC,CAAsDF,KAAtD,CAA4E,CAC1E,GAAMK,QAAO,CAAGC,IAAI,CAACC,KAAL,CAAWL,KAAK,CAACC,QAAN,CAAeK,MAAf,CAAwBN,KAAK,CAACE,YAAzC,EAAyD,CAAzE,CACA,MAAQJ,MAAK,CAACC,IAAN,EAAcI,OAAf,CAA0B,CAAEJ,IAAI,CAAEI,OAAO,CAAG,CAAlB,CAA1B,CAAkD,IAAzD,CACD,C,sBAVmCX,KAAK,CAACkB,S,SAAvBb,Q"},"metadata":{},"sourceType":"module"}