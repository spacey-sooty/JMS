{"ast":null,"code":"import _objectSpread from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{faCheck,faExclamationTriangle,faInfoCircle,faUnlock}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import confirmBool from\"components/elements/Confirm\";import EnumToggleGroup from\"components/elements/EnumToggleGroup\";import _ from\"lodash\";import React from\"react\";import{Button,Col,Row,Table}from\"react-bootstrap\";import RangeSlider from\"react-bootstrap-range-slider\";import{Menu,MenuItem,Typeahead}from'react-bootstrap-typeahead';import{WebsocketComponent}from\"support/ws-component\";import{EventWizardPageContent}from\"./EventWizard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllianceSelectionGenerator=/*#__PURE__*/function(_React$Component){_inherits(AllianceSelectionGenerator,_React$Component);var _super=_createSuper(AllianceSelectionGenerator);function AllianceSelectionGenerator(){var _this;_classCallCheck(this,AllianceSelectionGenerator);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={n_teams_per_alliance:3,n_alliances:2,max_n_alliances:2};_this.componentDidMount=function(){return _this.calculate(3,2);};_this.calculate=function(n_teams,n_alliances){var max_num_alliances=Math.floor(_this.props.n_teams/n_teams);var new_num_alliances=Math.min(n_alliances,max_num_alliances);_this.setState({n_teams_per_alliance:n_teams,n_alliances:new_num_alliances,max_n_alliances:max_num_alliances});};return _this;}_createClass(AllianceSelectionGenerator,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.n_teams!==this.props.n_teams){this.calculate(this.state.n_teams_per_alliance,this.state.n_alliances);}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faExclamationTriangle}),\" \\xA0\",/*#__PURE__*/_jsx(\"strong\",{children:\"NOTE: \"}),\" Your choice for number of alliances will determine what playoff schedules are available to you. For a traditional Quarters - Semis - Finals layout choose 2, 4, or 8 alliances. For other alliance counts, Round Robin or Brackets w/ Byes are available.\"]}),/*#__PURE__*/_jsx(\"h5\",{children:\" Alliance Setup \"}),/*#__PURE__*/_jsxs(Row,{className:\"my-3\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(EnumToggleGroup,{name:\"teams_per_alliance\",value:this.state.n_teams_per_alliance,onChange:function onChange(v){return _this2.calculate(v,_this2.state.n_alliances);},values:[3,4],names:[\"3 Teams (Backup Opt.)\",\"4 Teams (Backup Req.)\"]})}),/*#__PURE__*/_jsx(Col,{md:true,children:/*#__PURE__*/_jsx(RangeSlider,{value:this.state.n_alliances,onChange:function onChange(e){return _this2.calculate(_this2.state.n_teams_per_alliance,parseInt(e.target.value));},disabled:this.state.max_n_alliances===2,step:1,min:2,max:Math.min(this.state.max_n_alliances,8),tooltipLabel:function tooltipLabel(v){return v+\" Alliances\";},tooltip:\"on\",tooltipPlacement:\"top\"})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:function onClick(){return _this2.props.gen(_this2.state.n_alliances);},children:\"Create Alliances\"})})})]});}}]);return AllianceSelectionGenerator;}(React.Component);var AllianceSelection=/*#__PURE__*/function(_WebsocketComponent){_inherits(AllianceSelection,_WebsocketComponent);var _super2=_createSuper(AllianceSelection);function AllianceSelection(){var _this3;_classCallCheck(this,AllianceSelection);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this3=_super2.call.apply(_super2,[this].concat(args));_this3.state={quals_complete:false,playoffs_generated:false,teams:[],alliances:[],rankings:[]};_this3.componentDidMount=function(){_this3.handles=[_this3.listen(\"Event/Team/CurrentAll\",\"teams\"),_this3.listen(\"Event/Alliance/CurrentAll\",\"alliances\"),_this3.listen(\"Event/Ranking/CurrentAll\",\"rankings\"),_this3.listenFn(\"Match/Quals/Generation\",function(msg){return _this3.setState({quals_complete:msg.matches.length>0&&_.every(msg.matches,function(m){return m.played;})});}),_this3.listenFn(\"Match/Playoffs/Generation\",function(msg){var _msg$record;return _this3.setState({playoffs_generated:((_msg$record=msg.record)===null||_msg$record===void 0?void 0:_msg$record.data)!=null});})];};_this3.clearAlliances=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return confirmBool(\"Are you sure? This will clear ALL alliances.\",{title:\"Clear Alliances?\",okVariant:\"danger\",okText:\"Clear Alliances\"});case 2:result=_context.sent;if(result)_this3.send({Event:{Alliance:\"Clear\"}});case 4:case\"end\":return _context.stop();}}},_callee);}));_this3.updateAlliancePick=function(alliance,idx,value){var team=value.length>0?parseInt(value[0].id):null;alliance.teams[idx]=team;_this3.send({Event:{Alliance:{Update:alliance}}});};_this3.renderAlliances=function(){var _this3$state=_this3.state,alliances=_this3$state.alliances,teams=_this3$state.teams,rankings=_this3$state.rankings,playoffs_generated=_this3$state.playoffs_generated;var chosen_teams=alliances.flatMap(function(alliance){return alliance.teams;}).filter(function(x){return x!=null;});var teams_with_strings=rankings.map(function(r,i){return{id:r.team.toString(),rank:i+1,disabled:chosen_teams.includes(r.team)};});var editable=!playoffs_generated;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{className:\"my-3\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",disabled:alliances.some(function(x){return x.ready;}),onClick:_this3.clearAlliances,children:\"Reset Alliances\"}),\"\\xA0\",/*#__PURE__*/_jsx(Button,{variant:\"primary\",disabled:!alliances.some(function(x){return x.teams[0]==null;}),onClick:function onClick(){return _this3.send({Event:{Alliance:\"Promote\"}});},children:\"Promote Captains\"})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" Alliance \"}),/*#__PURE__*/_jsx(\"th\",{children:\" Captain \"}),/*#__PURE__*/_jsx(\"th\",{children:\" Pick 1 \"}),/*#__PURE__*/_jsx(\"th\",{children:\" Pick 2 \"}),/*#__PURE__*/_jsx(\"th\",{children:\" Backup \"}),/*#__PURE__*/_jsx(\"th\",{children:\" Lock \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:alliances.map(function(alliance){var canReady=alliance.teams.slice(0,3).every(function(x){return x!=null;});return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",alliance.id,\" \"]}),[0,1,2,3].map(function(i){var selected_team=teams_with_strings.find(function(t){return parseInt(t.id)===alliance.teams[i];});return/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Typeahead,{disabled:alliance.ready,id:\"alliance-\"+alliance.id+\"-pick-\"+i,labelKey:\"id\",placeholder:\"----\",options:teams_with_strings,highlightOnlyResult:true,selected:selected_team?[selected_team]:[],onChange:function onChange(t){return _this3.updateAlliancePick(alliance,i,t);},renderMenu:function renderMenu(results,menuProps){return/*#__PURE__*/_jsx(Menu,_objectSpread(_objectSpread({},menuProps),{},{children:results.filter(function(r){return!r.disabled;}).map(function(result,idx){return/*#__PURE__*/_jsxs(MenuItem,{option:result,position:idx,children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[result.rank,\":\"]}),\" \\xA0\",result.id]});})}));}})});}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{size:\"sm\",disabled:!(editable&&canReady),variant:alliance.ready?\"danger\":canReady?\"good\":\"secondary\",onClick:function onClick(){return _this3.send({Event:{Alliance:{Update:_objectSpread(_objectSpread({},alliance),{},{ready:!alliance.ready})}}});},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:alliance.ready?faUnlock:faCheck})})})]});})})]})})})]});};return _this3;}_createClass(AllianceSelection,[{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,quals_complete=_this$state.quals_complete,alliances=_this$state.alliances,teams=_this$state.teams;var alliances_ready=alliances.length>0&&_.every(alliances,function(a){return a.ready;});var n_teams=teams.filter(function(t){return t.schedule;}).length;return/*#__PURE__*/_jsxs(EventWizardPageContent,{tabLabel:\"Alliance Selection\",attention:quals_complete&&!alliances_ready,disabled:!quals_complete,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Alliance Selection\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faInfoCircle}),\" \\xA0 In this step, the playoff alliances will be selected. Traditionally, this is done in an 8-Alliance, 3-Team playoff bracket with picks chosen in serpentine order (1-8, 8-1, 1-8). These brackets and the teams selected can be chosen in any manner you wish.\"]}),alliances.length>0?this.renderAlliances():/*#__PURE__*/_jsx(AllianceSelectionGenerator,{n_teams:n_teams,gen:function gen(n){return _this4.send({Event:{Alliance:{Create:n}}});}})]});}}]);return AllianceSelection;}(WebsocketComponent);export{AllianceSelection as default};","map":{"version":3,"names":["faCheck","faExclamationTriangle","faInfoCircle","faUnlock","FontAwesomeIcon","confirmBool","EnumToggleGroup","_","React","Button","Col","Row","Table","RangeSlider","Menu","MenuItem","Typeahead","WebsocketComponent","EventWizardPageContent","AllianceSelectionGenerator","state","n_teams_per_alliance","n_alliances","max_n_alliances","componentDidMount","calculate","n_teams","max_num_alliances","Math","floor","props","new_num_alliances","min","setState","prevProps","v","e","parseInt","target","value","gen","Component","AllianceSelection","quals_complete","playoffs_generated","teams","alliances","rankings","handles","listen","listenFn","msg","matches","length","every","m","played","record","data","clearAlliances","title","okVariant","okText","result","send","Event","Alliance","updateAlliancePick","alliance","idx","team","id","Update","renderAlliances","chosen_teams","flatMap","filter","x","teams_with_strings","map","r","i","toString","rank","disabled","includes","editable","some","ready","canReady","slice","selected_team","find","t","results","menuProps","alliances_ready","a","schedule","n","Create"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/wizard/AllianceSelection.tsx"],"sourcesContent":["import { faCheck, faExclamationTriangle, faInfoCircle, faUnlock } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport confirmBool from \"components/elements/Confirm\";\nimport EnumToggleGroup from \"components/elements/EnumToggleGroup\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Button, Col, Row, Table } from \"react-bootstrap\";\nimport RangeSlider from \"react-bootstrap-range-slider\";\nimport { Menu, MenuItem, Typeahead } from 'react-bootstrap-typeahead';\nimport { WebsocketComponent } from \"support/ws-component\";\nimport { PlayoffAlliance, SerialisedMatchGeneration, Team, TeamRanking } from \"ws-schema\";\nimport { EventWizardPageContent } from \"./EventWizard\";\n\ntype TypeaheadTeam =  { id: string, rank: number, disabled: boolean };\n\ntype AllianceSelectionGeneratorState = {\n  n_teams_per_alliance: number,\n  n_alliances: number,\n  max_n_alliances: number\n}\n\nclass AllianceSelectionGenerator extends React.Component<{ n_teams: number, gen: (n_alliances: number) => void }, AllianceSelectionGeneratorState> {\n  readonly state: AllianceSelectionGeneratorState = {\n    n_teams_per_alliance: 3,\n    n_alliances: 2,\n    max_n_alliances: 2\n  };\n\n  componentDidMount = () => this.calculate(3, 2);\n\n  componentDidUpdate(prevProps: { n_teams: number }) {\n    if (prevProps.n_teams !== this.props.n_teams) {\n      this.calculate(this.state.n_teams_per_alliance, this.state.n_alliances)\n    }\n  }\n\n  calculate = (n_teams: number, n_alliances: number) => {\n    let max_num_alliances = Math.floor(this.props.n_teams / n_teams);\n\n    let new_num_alliances = Math.min(n_alliances, max_num_alliances);\n\n    this.setState({\n      n_teams_per_alliance: n_teams,\n      n_alliances: new_num_alliances,\n      max_n_alliances: max_num_alliances\n    })\n  }\n  \n  render() {\n    return <div>\n      <p className=\"text-danger\">\n        <FontAwesomeIcon icon={faExclamationTriangle} /> &nbsp;\n        <strong>NOTE: </strong> Your choice for number of alliances will determine what playoff schedules are available to you. \n        For a traditional Quarters - Semis - Finals layout choose 2, 4, or 8 alliances. For other alliance counts, Round Robin or\n        Brackets w/ Byes are available.\n      </p>\n      <h5> Alliance Setup </h5>\n      <Row className=\"my-3\">\n        <Col>\n        <EnumToggleGroup\n          name=\"teams_per_alliance\"\n          value={this.state.n_teams_per_alliance}\n          onChange={v => this.calculate(v, this.state.n_alliances)}\n          values={[3, 4]}\n          names={[\"3 Teams (Backup Opt.)\", \"4 Teams (Backup Req.)\"]}\n        />\n          {/* <ToggleButtonGroup\n            name=\"teams_per_alliance\"\n            type=\"radio\"\n            value={this.state.n_teams_per_alliance}\n            onChange={v => this.calculate(v, this.state.n_alliances)}\n          >\n            <ToggleButton key={3} value={3} variant=\"outline-primary\"> 3 Teams </ToggleButton>\n            <ToggleButton key={3} value={4} variant=\"outline-primary\"> 4 Teams (3 + Backup) </ToggleButton>\n          </ToggleButtonGroup> */}\n        </Col>\n        <Col md>\n          <RangeSlider \n            value={this.state.n_alliances}\n            onChange={e => this.calculate(this.state.n_teams_per_alliance, parseInt(e.target.value))}\n            disabled={this.state.max_n_alliances === 2}\n            step={1}\n            min={2}\n            max={Math.min(this.state.max_n_alliances, 8)}\n            tooltipLabel={v => v + \" Alliances\"}\n            tooltip=\"on\"\n            tooltipPlacement=\"top\"\n          />\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Button\n            variant=\"success\"\n            onClick={ () => this.props.gen(this.state.n_alliances) }\n          >\n            Create Alliances\n          </Button>\n        </Col>\n      </Row>\n    </div>\n  }\n}\n\ntype AllianceSelectionState = {\n  quals_complete: boolean,\n  playoffs_generated: boolean,\n  teams: Team[],\n  alliances: PlayoffAlliance[],\n  rankings: TeamRanking[]\n};\n\nexport default class AllianceSelection extends WebsocketComponent<{}, AllianceSelectionState> {\n\n  readonly state: AllianceSelectionState = {\n    quals_complete: false,\n    playoffs_generated: false,\n    teams: [], alliances: [], rankings: []\n  };\n\n  componentDidMount = () => {\n    this.handles = [\n      this.listen(\"Event/Team/CurrentAll\", \"teams\"),\n      this.listen(\"Event/Alliance/CurrentAll\", \"alliances\"),\n      this.listen(\"Event/Ranking/CurrentAll\", \"rankings\"),\n      this.listenFn<SerialisedMatchGeneration>(\"Match/Quals/Generation\", msg => this.setState({ quals_complete: msg.matches.length > 0 && _.every(msg.matches, m => m.played) })),\n      this.listenFn<SerialisedMatchGeneration>(\"Match/Playoffs/Generation\", msg => this.setState({ playoffs_generated: msg.record?.data != null })),\n    ]\n  }\n\n  clearAlliances = async () => {\n    let result = await confirmBool(\"Are you sure? This will clear ALL alliances.\", {\n      title: \"Clear Alliances?\",\n      okVariant: \"danger\",\n      okText: \"Clear Alliances\"\n    });\n\n    if (result)\n      this.send({ Event: { Alliance: \"Clear\" } });\n  }\n\n  updateAlliancePick = (alliance: PlayoffAlliance, idx: number, value: TypeaheadTeam[]) => {\n    let team = value.length > 0 ? parseInt(value[0].id) : null;\n    alliance.teams[idx] = team;\n    this.send({ Event: { Alliance: { Update: alliance } } });\n  }\n\n  renderAlliances = () => {\n    const { alliances, teams, rankings, playoffs_generated } = this.state;\n    const chosen_teams = alliances.flatMap(alliance => alliance.teams).filter(x => x != null);\n\n    const teams_with_strings: TypeaheadTeam[] = rankings.map((r, i) => {\n      return { id: r.team.toString(), rank: i + 1, disabled: chosen_teams.includes(r.team) }\n    });\n\n    const editable = !playoffs_generated;\n\n    return <div>\n      <Row className=\"my-3\">\n        <Col>\n          <Button\n            variant=\"danger\"\n            disabled={ alliances.some(x => x.ready) }\n            onClick={this.clearAlliances}\n          >\n            Reset Alliances\n          </Button>\n          &nbsp;\n          <Button\n            variant=\"primary\"\n            disabled={ !alliances.some(x => x.teams[0] == null) }\n            onClick={() => this.send({ Event: { Alliance: \"Promote\" } })}\n          >\n            Promote Captains\n          </Button>\n        </Col>\n      </Row>\n\n      <Row>\n        <Col>\n          <Table striped bordered hover>\n            <thead>\n              <tr>\n                <th> Alliance </th>\n                <th> Captain </th>\n                <th> Pick 1 </th>\n                <th> Pick 2 </th>\n                <th> Backup </th>\n                <th> Lock </th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                alliances.map(alliance => {\n                  let canReady = alliance.teams.slice(0, 3).every(x => x != null);\n                  return <tr>\n                    <td> {alliance.id} </td>\n                    {\n                      [0, 1, 2, 3].map(i => {\n                        let selected_team = teams_with_strings.find(t => parseInt(t.id) === alliance.teams[i]);\n\n                        return <td>\n                          <Typeahead\n                            disabled={alliance.ready}\n                            id={\"alliance-\" + alliance.id + \"-pick-\" + i}\n                            labelKey=\"id\"\n                            placeholder=\"----\"\n                            options={teams_with_strings}\n                            highlightOnlyResult={true}\n                            selected={ selected_team ? [ selected_team ] : [] }\n                            onChange={ t => this.updateAlliancePick(alliance, i, t as TypeaheadTeam[]) }\n                            renderMenu={(results, menuProps) => <Menu {...menuProps}>\n                              { \n                                (results as TypeaheadTeam[]).filter(r => !r.disabled).map((result, idx) => \n                                  <MenuItem option={result} position={idx}> \n                                    <span className=\"text-muted\">{ result.rank }:</span> &nbsp;\n                                    { result.id }\n                                  </MenuItem>)\n                              }\n                            </Menu>}\n                          />\n                        </td>\n                      })\n                    }\n                    <td>\n                      <Button\n                        size=\"sm\"\n                        disabled={!(editable && canReady)}\n                        variant={alliance.ready ? \"danger\" : canReady ? \"good\" : \"secondary\"}\n                        onClick={() => this.send({\n                          Event: { Alliance: { Update: { ...alliance, ready: !alliance.ready } } }\n                        })}\n                      >\n                        <FontAwesomeIcon icon={alliance.ready ? faUnlock : faCheck} />\n                      </Button>\n                    </td>\n                  </tr>\n                })\n              }\n            </tbody>\n          </Table>\n        </Col>\n      </Row>\n    </div>\n  }\n\n  render() {\n    const { quals_complete, alliances, teams } = this.state;\n\n    const alliances_ready = alliances.length > 0 && _.every(alliances, a => a.ready);\n    const n_teams = teams.filter(t => t.schedule).length;\n\n    return <EventWizardPageContent tabLabel=\"Alliance Selection\" attention={quals_complete && !alliances_ready} disabled={!quals_complete}>\n      <h4>Alliance Selection</h4>\n      <p className=\"text-muted\">\n        <FontAwesomeIcon icon={faInfoCircle} /> &nbsp;\n        In this step, the playoff alliances will be selected. Traditionally, this is done in an 8-Alliance, 3-Team playoff bracket with \n        picks chosen in serpentine order (1-8, 8-1, 1-8). These brackets and the teams selected can be chosen in any manner you wish.\n      </p>\n\n      {\n        alliances.length > 0 ? \n          this.renderAlliances() : \n          <AllianceSelectionGenerator\n            n_teams={n_teams} \n            gen={n => this.send({\n              Event: { Alliance: { Create: n } }\n            })}\n          />\n      }\n    </EventWizardPageContent>\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}