{"ast":null,"code":"import _defineProperty from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _objectSpread from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{faAdd,faCheck,faCrown,faInfoCircle,faPencil,faTimes,faTrash}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{confirmModal,withConfirm}from\"components/elements/Confirm\";import EnumToggleGroup from\"components/elements/EnumToggleGroup\";import{ResourceRequirementMinimapAccordion,ResourceRoleLabel}from\"components/ResourceComponents\";import SimpleTooltip from\"components/elements/SimpleTooltip\";import BufferedFormControl from\"components/elements/BufferedFormControl\";import update from\"immutability-helper\";import React from\"react\";import{Accordion,Button,Card,Col,Form,ListGroup,Row,Table}from\"react-bootstrap\";import{interleave,withVal,withValU}from\"support/util\";import{ALLIANCES,ALLIANCE_STATIONS,ROLES}from\"support/ws-additional\";import{WebsocketComponent}from\"support/ws-component\";import{EventWizardPageContent}from\"./EventWizard\";import{nullIfEmpty}from\"support/strings\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function referee_quota(id){return{Quota:{template:{ready:true,role:{RefereePanel:id}},min:1,max:1}};}function scorer_quota(id){return{Quota:{template:{fta:false,ready:true,role:{ScorerPanel:id}},min:1,max:1}};}var ALL_REFS=[referee_quota(\"HeadReferee\"),referee_quota({Alliance:[\"blue\",\"near\"]}),referee_quota({Alliance:[\"blue\",\"far\"]}),referee_quota({Alliance:[\"red\",\"near\"]}),referee_quota({Alliance:[\"red\",\"far\"]})];var ALL_SCORERS=[scorer_quota({alliance:\"blue\"}),scorer_quota({alliance:\"red\"})];var ALL_ESTOPS=ALLIANCES.flatMap(function(alliance){return ALLIANCE_STATIONS.map(function(stn){return{Quota:{template:{role:{TeamEStop:{alliance:alliance,station:stn}}},min:1}};});});var ELECTRONICS_OR_ESTOPS={Or:[{Quota:{template:{role:\"FieldElectronics\"},min:1}},{And:ALL_ESTOPS}]};var DEFAULTS={\"All Field Resources\":{And:[{Quota:{template:{fta:true,ready:true,role:\"Any\"},min:1}},{Quota:{template:{role:\"ScorekeeperPanel\"},min:1,max:1}},{Quota:{template:{role:\"TimerPanel\"},min:2}},{Quota:{template:{role:\"AudienceDisplay\"},min:1}},{Quota:{template:{role:\"MonitorPanel\"},min:1}},ELECTRONICS_OR_ESTOPS].concat(ALL_REFS,ALL_SCORERS)}};var DEFAULT_QUOTA={Quota:{template:{fta:false,ready:false,role:\"Any\"},min:1}};var NEW_DEFAULTS=_objectSpread(_objectSpread({},DEFAULT_QUOTA),{},{And:[DEFAULT_QUOTA],Or:[DEFAULT_QUOTA]});var ConfigureResources=/*#__PURE__*/function(_WebsocketComponent){_inherits(ConfigureResources,_WebsocketComponent);var _super=_createSuper(ConfigureResources);function ConfigureResources(){var _this;_classCallCheck(this,ConfigureResources);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={requirement_status:null,resources:[]};_this.componentDidMount=function(){return _this.handles=[_this.listen(\"Resource/All\",\"resources\"),_this.listen(\"Resource/Current\",\"this_resource\"),_this.listen(\"Resource/Requirements/Current\",\"requirement_status\")];};_this.load=function(rr){_this.send({Resource:{Requirements:{SetActive:rr}}});};return _this;}_createClass(ConfigureResources,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,requirement_status=_this$state.requirement_status,resources=_this$state.resources,this_resource=_this$state.this_resource;return/*#__PURE__*/_jsxs(EventWizardPageContent,{tabLabel:\"Resource Allocation\",attention:requirement_status==null,children:[/*#__PURE__*/_jsx(\"h4\",{children:\" Resource Allocation \"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faInfoCircle}),\" \\xA0 Resource Allocation tracks tablets, field electronics, and other resources to determine whether we're ready to run a match. Here, you can decide what minimum you require to run a match.\"]}),/*#__PURE__*/_jsx(ActiveResources,{resources:resources,this_resource:this_resource}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:requirement_status==null?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\" Load Default Allocation \"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\" Select from the below default allocations. \"}),Object.keys(DEFAULTS).map(function(k){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return _this2.load(DEFAULTS[k]);},children:[\" \",k,\" \"]}),\"\\xA0\"]});})]}):/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return withConfirm(function(){return _this2.load(null);},\"This will clear the current resource allocation\");},children:\" Clear Allocation \"})}),/*#__PURE__*/_jsx(\"br\",{}),withVal(requirement_status,function(status){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ResourceRequirementMinimapAccordion,{defaultOpen:true,status:status}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(RequirementStatusComponent,{status:status,onUpdate:_this2.load})]});})]});}}]);return ConfigureResources;}(WebsocketComponent);export{ConfigureResources as default};var ActiveResources=/*#__PURE__*/function(_React$PureComponent){_inherits(ActiveResources,_React$PureComponent);var _super2=_createSuper(ActiveResources);function ActiveResources(){_classCallCheck(this,ActiveResources);return _super2.apply(this,arguments);}_createClass(ActiveResources,[{key:\"render\",value:function render(){var _this$props=this.props,resources=_this$props.resources,this_resource=_this$props.this_resource;return/*#__PURE__*/_jsx(Accordion,{children:/*#__PURE__*/_jsxs(Accordion.Item,{eventKey:\"0\",children:[/*#__PURE__*/_jsxs(Accordion.Header,{children:[\" \",resources.length,\" Active Resource(s) \"]}),/*#__PURE__*/_jsx(Accordion.Body,{children:/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" ID \"}),/*#__PURE__*/_jsx(\"th\",{children:\" Role \"}),/*#__PURE__*/_jsx(\"th\",{children:\" Ready? \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:resources.map(function(r){return/*#__PURE__*/_jsxs(\"tr\",{className:\"wizard-resource-row\",\"data-fta\":r.fta,\"data-ready\":r.ready,children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",r.id,\" \",r.id===(this_resource===null||this_resource===void 0?void 0:this_resource.id)?\"(me)\":\"\",\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",r.fta?/*#__PURE__*/_jsx(\"strong\",{children:\"[FTA]\\xA0\"}):undefined,\"  \",/*#__PURE__*/_jsx(ResourceRoleLabel,{role:r.role}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"wizard-resource-ready\",children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:r.ready?faCheck:faTimes}),\" \"]})]},r.id);})})]})})]})});}}]);return ActiveResources;}(React.PureComponent);var RequirementStatusComponent=/*#__PURE__*/function(_React$PureComponent2){_inherits(RequirementStatusComponent,_React$PureComponent2);var _super3=_createSuper(RequirementStatusComponent);function RequirementStatusComponent(){_classCallCheck(this,RequirementStatusComponent);return _super3.apply(this,arguments);}_createClass(RequirementStatusComponent,[{key:\"render\",value:function render(){var _this$props2=this.props,status=_this$props2.status,onUpdate=_this$props2.onUpdate;var element=status.element;if(\"Quota\"in element){return/*#__PURE__*/_jsx(ResourceQuotaComponent,{quota:element.Quota,status:status,onUpdate:withValU(onUpdate,function(onUp){return function(up){return onUp(up?{Quota:up}:null);};})});}else if(\"And\"in element){return/*#__PURE__*/_jsx(ResourceConjunctiveComponent,{operator:\"And\",children:element.And,status:status,onUpdate:onUpdate});}else if(\"Or\"in element){return/*#__PURE__*/_jsx(ResourceConjunctiveComponent,{operator:\"Or\",children:element.Or,status:status,onUpdate:onUpdate});}}}]);return RequirementStatusComponent;}(React.PureComponent);var ResourceConjunctiveComponent=/*#__PURE__*/function(_React$PureComponent3){_inherits(ResourceConjunctiveComponent,_React$PureComponent3);var _super4=_createSuper(ResourceConjunctiveComponent);function ResourceConjunctiveComponent(){var _this3;_classCallCheck(this,ResourceConjunctiveComponent);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this3=_super4.call.apply(_super4,[this].concat(args));_this3.newEntry=function(onUpdate){confirmModal(\"\",{data:{Quota:NEW_DEFAULTS.Quota},title:\"New Resource Requirement\",okText:\"Add\",renderInner:function renderInner(data,_onUpdate){return/*#__PURE__*/_jsx(EditResourceRequirement,{value:data,onUpdate:function onUpdate(s){return _onUpdate(update(data,s));}});}}).then(function(data){onUpdate(update(_this3.props.status.original,_defineProperty({},_this3.props.operator,{$push:[data]})));});};return _this3;}_createClass(ResourceConjunctiveComponent,[{key:\"render\",value:function render(){var _this4=this;var _this$props3=this.props,children=_this$props3.children,operator=_this$props3.operator,status=_this$props3.status,onUpdate=_this$props3.onUpdate;var list_items=children.map(function(c,i){return/*#__PURE__*/_jsx(\"div\",{className:\"wizard-resource-status-item\",\"data-satisfied\":c.satisfied,children:/*#__PURE__*/_jsx(RequirementStatusComponent,{status:c,onUpdate:withValU(onUpdate,function(onUp){return function(data){if(data==null){if(children.length===1)onUp(null);else onUp(update(status.original,_defineProperty({},operator,{$splice:[[i,1]]})));}else{onUp(update(status.original,_defineProperty({},operator,_defineProperty({},i,{$set:data}))));}};})})},i);});if(operator==\"Or\"){list_items=interleave(list_items,function(){return/*#__PURE__*/_jsx(ListGroup.Item,{className:\"wizard-resource-status-or\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"OR\"})},\"or\");});}return/*#__PURE__*/_jsx(Card,{className:\"wizard-resource-status\",bg:status.satisfied?\"success\":\"dark\",children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[list_items,withValU(onUpdate,function(onUp){return/*#__PURE__*/_jsx(ListGroup.Item,{className:\"text-muted\",children:/*#__PURE__*/_jsxs(\"a\",{onClick:function onClick(){return _this4.newEntry(onUp);},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAdd}),\" Add Requirement (\",operator.toUpperCase(),\")\"]})});})]})});}}]);return ResourceConjunctiveComponent;}(React.PureComponent);var ResourceQuotaComponent=/*#__PURE__*/function(_React$PureComponent4){_inherits(ResourceQuotaComponent,_React$PureComponent4);var _super5=_createSuper(ResourceQuotaComponent);function ResourceQuotaComponent(){var _this5;_classCallCheck(this,ResourceQuotaComponent);for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}_this5=_super5.call.apply(_super5,[this].concat(args));_this5.edit=function(onUpdate){confirmModal(\"\",{data:_this5.props.quota,title:\"Edit Quota\",okText:\"Confirm\",renderInner:function renderInner(data,_onUpdate2){return/*#__PURE__*/_jsx(EditResourceQuota,{value:data,onUpdate:function onUpdate(s){return _onUpdate2(update(data,s));}});}}).then(function(data){onUpdate(data);});};return _this5;}_createClass(ResourceQuotaComponent,[{key:\"render\",value:function render(){var _this6=this;var _this$props4=this.props,quota=_this$props4.quota,status=_this$props4.status,onUpdate=_this$props4.onUpdate;var ready=status.ready,satisfied=status.satisfied;return/*#__PURE__*/_jsx(ListGroup.Item,{className:\"wizard-resource-status-quota\",\"data-satisfied\":satisfied,children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[quota.template.fta?\"[FTA]\":undefined,\" \",/*#__PURE__*/_jsx(ResourceRoleLabel,{role:quota.template.role})]}),/*#__PURE__*/_jsx(Col,{md:2,className:\"wizard-resource-status-count\",\"data-satisfied\":quota.satisfied,children:/*#__PURE__*/_jsxs(SimpleTooltip,{id:\"qr\",tip:quota.resource_ids.map(function(r){return/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[\" \",r]},r);}),disabled:quota.resource_ids.length===0,children:[quota.resource_ids.length>0?String(quota.resource_ids.length):\"--\",\"\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"of \\xA0\",quota.min,quota.max?quota.max==quota.min?\"\":\" - \".concat(quota.max):\"+\"]})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:satisfied?/*#__PURE__*/_jsxs(\"span\",{className:ready?\"\":\"text-muted\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:ready?faCheck:faTimes}),\"\\xA0 \",ready?\"READY\":\"Not Ready\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes}),\" \\xA0 Quota\"]})}),withVal(onUpdate,function(onUp){return/*#__PURE__*/_jsxs(Col,{md:\"auto\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"text-muted\",onClick:function onClick(){return _this6.edit(onUp);},children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPencil}),\" \"]}),\"\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"a\",{className:\"text-danger\",onClick:function onClick(){return onUp(null);},children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash}),\" \"]})]});})]})});}}]);return ResourceQuotaComponent;}(React.PureComponent);var EditResourceRequirement=/*#__PURE__*/function(_React$Component){_inherits(EditResourceRequirement,_React$Component);var _super6=_createSuper(EditResourceRequirement);function EditResourceRequirement(){var _this7;_classCallCheck(this,EditResourceRequirement);for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}_this7=_super6.call.apply(_super6,[this].concat(args));_this7.renderList=function(operator,elements){return/*#__PURE__*/_jsxs(React.Fragment,{children:[elements.map(function(el,i){return/*#__PURE__*/_jsx(Card,{className:\"border-light my-3\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(EditResourceRequirement,{value:el,onUpdate:function onUpdate(v){return _this7.props.onUpdate(_defineProperty({},operator,_defineProperty({},i,{$set:update(el,v)})));}}),/*#__PURE__*/_jsx(Row,{className:\"mt-2\",children:/*#__PURE__*/_jsx(Col,{className:\"text-end\",children:/*#__PURE__*/_jsxs(Button,{variant:\"danger\",size:\"sm\",disabled:elements.length===1,onClick:function onClick(){return _this7.props.onUpdate(_defineProperty({},operator,{$splice:[[i,1]]}));},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash}),\" Delete\"]})})})]})});}),/*#__PURE__*/_jsxs(\"a\",{className:\"mt-2 text-muted\",onClick:function onClick(){return _this7.props.onUpdate(_defineProperty({},operator,{$push:[{Quota:NEW_DEFAULTS.Quota}]}));},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAdd}),\" Add Requirement (\",operator.toUpperCase(),\")\"]})]});};return _this7;}_createClass(EditResourceRequirement,[{key:\"render\",value:function render(){var _this$props5=this.props,value=_this$props5.value,_onUpdate3=_this$props5.onUpdate;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(EnumToggleGroup,{name:\"resource_type\",value:Object.keys(value)[0],values:[\"And\",\"Or\",\"Quota\"],variant:\"secondary\",onChange:function onChange(type){_onUpdate3({$set:_defineProperty({},type,NEW_DEFAULTS[type])});}})})}),\"Quota\"in value?/*#__PURE__*/_jsx(EditResourceQuota,{value:value.Quota,onUpdate:function onUpdate(q){return _onUpdate3({Quota:q});}}):\"And\"in value?this.renderList(\"And\",value.And):this.renderList(\"Or\",value.Or)]});}}]);return EditResourceRequirement;}(React.Component);var EditResourceQuota=/*#__PURE__*/function(_React$Component2){_inherits(EditResourceQuota,_React$Component2);var _super7=_createSuper(EditResourceQuota);function EditResourceQuota(){_classCallCheck(this,EditResourceQuota);return _super7.apply(this,arguments);}_createClass(EditResourceQuota,[{key:\"render\",value:function render(){var _this$props6=this.props,value=_this$props6.value,_onUpdate4=_this$props6.onUpdate;var template=value.template,min=value.min,max=value.max;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"my-3\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Select,{value:JSON.stringify(template.role),onChange:function onChange(v){return _onUpdate4({template:{role:{$set:JSON.parse(v.target.value)}}});},children:ROLES.map(function(role,i){return/*#__PURE__*/_jsxs(\"option\",{value:JSON.stringify(role),children:[\" \",/*#__PURE__*/_jsx(ResourceRoleLabel,{role:role}),\" \"]},i);})})}),/*#__PURE__*/_jsx(Col,{md:3,className:\"text-end\",children:/*#__PURE__*/_jsx(Button,{variant:template.fta?\"gold\":\"secondary\",onClick:function onClick(){return _onUpdate4({template:{fta:{$set:!(template.fta||false)}}});},children:template.fta?/*#__PURE__*/_jsxs(React.Fragment,{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCrown}),\" \\xA0 FTA \"]}):\"Not FTA\"})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:\"auto\",children:[\" \",/*#__PURE__*/_jsx(Form.Label,{className:\"text-muted\",children:\" # Resources:  \"}),\" \"]}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(BufferedFormControl,{instant:true,type:\"number\",min:0,max:max||undefined,value:min,onUpdate:function onUpdate(v){return _onUpdate4({min:{$set:Number(v)}});}})}),/*#__PURE__*/_jsx(Col,{md:\"auto\",children:\" - \"}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(BufferedFormControl,{instant:true,type:\"number\",min:min,value:max||\"\",onUpdate:function onUpdate(v){return _onUpdate4({max:{$set:nullIfEmpty(String(v))?Number(v):undefined}});}})}),/*#__PURE__*/_jsx(Col,{className:\"text-end\",children:/*#__PURE__*/_jsxs(Button,{variant:template.ready?\"good\":\"secondary\",onClick:function onClick(){return _onUpdate4({template:{ready:{$set:!(template.ready||false)}}});},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:template.ready?faCheck:faTimes}),\" \\xA0 \",template.ready?\"Req. Ready\":\"No Ready\"]})})]})]});}}]);return EditResourceQuota;}(React.Component);","map":{"version":3,"names":["faAdd","faCheck","faCrown","faInfoCircle","faPencil","faTimes","faTrash","FontAwesomeIcon","confirmModal","withConfirm","EnumToggleGroup","ResourceRequirementMinimapAccordion","ResourceRoleLabel","SimpleTooltip","BufferedFormControl","update","React","Accordion","Button","Card","Col","Form","ListGroup","Row","Table","interleave","withVal","withValU","ALLIANCES","ALLIANCE_STATIONS","ROLES","WebsocketComponent","EventWizardPageContent","nullIfEmpty","referee_quota","id","Quota","template","ready","role","RefereePanel","min","max","scorer_quota","fta","ScorerPanel","ALL_REFS","Alliance","ALL_SCORERS","alliance","ALL_ESTOPS","flatMap","map","stn","TeamEStop","station","ELECTRONICS_OR_ESTOPS","Or","And","DEFAULTS","DEFAULT_QUOTA","NEW_DEFAULTS","ConfigureResources","state","requirement_status","resources","componentDidMount","handles","listen","load","rr","send","Resource","Requirements","SetActive","this_resource","Object","keys","k","status","ActiveResources","props","length","r","undefined","PureComponent","RequirementStatusComponent","onUpdate","element","onUp","up","ResourceConjunctiveComponent","newEntry","data","title","okText","renderInner","s","then","original","operator","$push","children","list_items","c","i","satisfied","$splice","$set","toUpperCase","ResourceQuotaComponent","edit","quota","resource_ids","String","EditResourceRequirement","renderList","elements","el","v","value","type","q","Component","EditResourceQuota","JSON","stringify","parse","target","Number"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/wizard/ConfigureResources.tsx"],"sourcesContent":["import { faAdd, faCheck, faCrown, faInfoCircle, faPencil, faTimes, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { confirmModal, withConfirm } from \"components/elements/Confirm\";\nimport EnumToggleGroup from \"components/elements/EnumToggleGroup\";\nimport { ResourceRequirementMinimap, ResourceRequirementMinimapAccordion, ResourceRoleLabel } from \"components/ResourceComponents\";\nimport SimpleTooltip from \"components/elements/SimpleTooltip\";\nimport BufferedFormControl from \"components/elements/BufferedFormControl\";\nimport update, { Spec } from \"immutability-helper\";\nimport React from \"react\";\nimport { Accordion, Button, Card, Col, Form, ListGroup, Row, Table } from \"react-bootstrap\";\nimport { interleave, VariantKeys, withVal, withValU } from \"support/util\";\nimport { ALLIANCES, ALLIANCE_STATIONS, ROLES } from \"support/ws-additional\";\nimport { WebsocketComponent } from \"support/ws-component\";\nimport { ResourceRequirements, ResourceRequirementStatus, TaggedResource, RefereeID, ScorerID, MappedResourceQuota, ResourceQuota, ResourceRole } from \"ws-schema\";\nimport { EventWizardPageContent } from \"./EventWizard\";\nimport { nullIfEmpty } from \"support/strings\";\n\ntype ConfigureResourcesState = {\n  requirement_status: ResourceRequirementStatus | null,\n  resources: TaggedResource[],\n  this_resource?: TaggedResource\n}\n\nfunction referee_quota(id: RefereeID): ResourceRequirements {\n  return {\n    Quota: {\n      template: {\n        ready: true,\n        role: { RefereePanel: id }\n      },\n      min: 1,\n      max: 1\n    }\n  };\n}\n\nfunction scorer_quota(id: ScorerID): ResourceRequirements {\n  return {\n    Quota: {\n      template: {\n        fta: false,\n        ready: true,\n        role: { ScorerPanel: id }\n      },\n      min: 1,\n      max: 1\n    }\n  };\n}\n\nconst ALL_REFS: ResourceRequirements[] = [\n  referee_quota(\"HeadReferee\"),\n  referee_quota({ Alliance: [ \"blue\", \"near\" ] }),\n  referee_quota({ Alliance: [ \"blue\", \"far\" ] }),\n  referee_quota({ Alliance: [ \"red\", \"near\" ] }),\n  referee_quota({ Alliance: [ \"red\", \"far\" ] }),\n];\n\nconst ALL_SCORERS: ResourceRequirements[] = [\n  scorer_quota({ alliance: \"blue\" }),\n  scorer_quota({ alliance: \"red\" }),\n];\n\nconst ALL_ESTOPS: ResourceRequirements[] = ALLIANCES.flatMap(alliance => ALLIANCE_STATIONS.map(stn => (\n  { Quota: { template: { role: { TeamEStop: { alliance: alliance, station: stn } } }, min: 1 } }\n)));\n\nconst ELECTRONICS_OR_ESTOPS: ResourceRequirements = {\n  Or: [\n    { Quota: { template: { role: \"FieldElectronics\" }, min: 1 } },\n    { And: ALL_ESTOPS }\n  ]\n}\n\nconst DEFAULTS: { [k: string]: ResourceRequirements } = {\n  \"All Field Resources\": {\n    And: [\n      { Quota: { template: { fta: true, ready: true, role: \"Any\" }, min: 1 } },\n      { Quota: { template: { role: \"ScorekeeperPanel\" }, min: 1, max: 1 } },\n      { Quota: { template: { role: \"TimerPanel\" }, min: 2 } },\n      { Quota: { template: { role: \"AudienceDisplay\" }, min: 1 } },\n      { Quota: { template: { role: \"MonitorPanel\" }, min: 1 } },\n      ELECTRONICS_OR_ESTOPS,\n      ...ALL_REFS,\n      ...ALL_SCORERS\n    ]\n  }\n};\n\nconst DEFAULT_QUOTA: ResourceRequirements = {\n  Quota: {\n    template: {\n      fta: false,\n      ready: false,\n      role: \"Any\"\n    },\n    min: 1\n  }\n};\n\nconst NEW_DEFAULTS: { Quota: ResourceQuota, And: ResourceRequirements[], Or: ResourceRequirements[] } = {\n  ...DEFAULT_QUOTA,\n  And: [ DEFAULT_QUOTA ],\n  Or: [ DEFAULT_QUOTA ]\n};\n\nexport default class ConfigureResources extends WebsocketComponent<{}, ConfigureResourcesState> {\n  readonly state: ConfigureResourcesState = {\n    requirement_status: null,\n    resources: []\n  };\n\n  componentDidMount = () => this.handles = [\n    this.listen(\"Resource/All\", \"resources\"),\n    this.listen(\"Resource/Current\", \"this_resource\"),\n    this.listen(\"Resource/Requirements/Current\", \"requirement_status\")\n  ];\n\n  load = (rr: ResourceRequirements | null) => {\n    this.send({ Resource: { Requirements: { SetActive: rr } } })\n  }\n\n  render() {\n    let { requirement_status, resources, this_resource } = this.state;\n    return <EventWizardPageContent tabLabel=\"Resource Allocation\" attention={requirement_status == null}>\n      <h4> Resource Allocation </h4>\n      <p className=\"text-muted\"> \n        <FontAwesomeIcon icon={faInfoCircle} /> &nbsp; \n        Resource Allocation tracks tablets, field electronics, and other resources to determine whether we're ready to run a match.\n        Here, you can decide what minimum you require to run a match.\n      </p>\n\n      <ActiveResources resources={resources} this_resource={this_resource} />\n\n      <br />\n      <div>\n        {\n          requirement_status == null ? <div>\n            <h4> Load Default Allocation </h4>\n            <p className=\"text-muted\"> Select from the below default allocations. </p>\n            {\n              Object.keys(DEFAULTS).map(k => <React.Fragment>\n                <Button onClick={() => this.load(DEFAULTS[k])}> { k } </Button>\n                &nbsp;\n              </React.Fragment>)\n            }\n          </div> : <Button variant=\"danger\" onClick={() => withConfirm(() => this.load(null), \"This will clear the current resource allocation\")}> Clear Allocation </Button>\n        }\n      </div>\n      <br />\n\n      {\n        withVal(requirement_status, status => <React.Fragment>\n          <ResourceRequirementMinimapAccordion defaultOpen status={status} />\n          <br />\n          <RequirementStatusComponent status={status} onUpdate={this.load} />\n        </React.Fragment>)\n      }\n\n    </EventWizardPageContent>\n  }\n}\n\nclass ActiveResources extends React.PureComponent<{ resources: TaggedResource[], this_resource?: TaggedResource }> {\n  render() {\n    const { resources, this_resource } = this.props;\n\n    return <Accordion>\n      <Accordion.Item eventKey=\"0\">\n        <Accordion.Header> { resources.length } Active Resource(s) </Accordion.Header>\n        <Accordion.Body>\n          <Table striped hover size=\"sm\">\n            <thead>\n              <tr>\n                <th> ID </th>\n                <th> Role </th>\n                <th> Ready? </th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                resources.map(r => <tr className=\"wizard-resource-row\" key={r.id} data-fta={r.fta} data-ready={r.ready}>\n                  <td> { r.id } { r.id === this_resource?.id ? \"(me)\" : \"\"} </td>\n                  <td> { r.fta ? <strong>[FTA]&nbsp;</strong> : undefined }  { <ResourceRoleLabel role={r.role} /> } </td>\n                  <td className=\"wizard-resource-ready\"> <FontAwesomeIcon icon={ r.ready ? faCheck : faTimes } /> </td>\n                </tr>)\n              }\n            </tbody>\n          </Table>\n        </Accordion.Body>\n      </Accordion.Item>\n    </Accordion>\n  }\n}\n\ntype RequirementStatusComponentProps = {\n  status: ResourceRequirementStatus,\n  onUpdate?: (data: ResourceRequirements | null) => void\n};\n\nclass RequirementStatusComponent extends React.PureComponent<RequirementStatusComponentProps> {\n  render() {\n    const { status, onUpdate } = this.props;\n    const { element } = status;\n\n    if (\"Quota\" in element) {\n      return <ResourceQuotaComponent\n        quota={element.Quota}\n        status={status}\n        onUpdate={withValU(onUpdate, onUp => up => onUp(up ? { Quota: up } : null))}\n      />\n    } else if (\"And\" in element) {\n      return <ResourceConjunctiveComponent operator=\"And\" children={element.And} status={status} onUpdate={onUpdate} />\n    } else if (\"Or\" in element) {\n      return <ResourceConjunctiveComponent operator=\"Or\" children={element.Or} status={status} onUpdate={onUpdate} />\n    }\n  }\n}\n\ntype ResourceConjunctiveComponentProps = {\n  children: ResourceRequirementStatus[],\n  operator: \"And\" | \"Or\",\n} & RequirementStatusComponentProps;\n\nclass ResourceConjunctiveComponent extends React.PureComponent<ResourceConjunctiveComponentProps> {\n  newEntry = (onUpdate: NonNullable<ResourceConjunctiveComponentProps[\"onUpdate\"]>) => {\n    confirmModal(\"\", {\n      data: { Quota: NEW_DEFAULTS.Quota },\n      title: \"New Resource Requirement\",\n      okText: \"Add\",\n      renderInner: (data: ResourceRequirements, onUpdate) => (\n        <EditResourceRequirement value={data} onUpdate={s => onUpdate(update(data, s))} />\n      )\n    }).then(data => {\n      onUpdate(update(this.props.status.original, { [this.props.operator]: { $push: [data] } }))\n    })\n  }\n  \n  render() {\n    const { children, operator, status, onUpdate } = this.props;\n\n    let list_items = children.map((c, i) => <div key={i} className=\"wizard-resource-status-item\" data-satisfied={c.satisfied}>\n      <RequirementStatusComponent\n        status={c}\n        onUpdate={withValU(onUpdate, onUp => (data: ResourceRequirements | null) => {\n          if (data == null)\n            if (children.length === 1)\n              onUp(null)\n            else \n              onUp(update(status.original, { [operator]: { $splice: [[ i, 1 ]] } }));\n          else {\n            onUp(update(status.original, { [operator]: { [i]: { $set: data } } }));\n          }\n        })}\n      />\n    </div>);\n\n    if (operator == \"Or\") {\n      list_items = interleave(list_items, () => <ListGroup.Item key=\"or\" className=\"wizard-resource-status-or\">\n        <span className=\"text-muted\">OR</span>\n      </ListGroup.Item>);\n    }\n\n    return <Card className=\"wizard-resource-status\" bg={status.satisfied ? \"success\" : \"dark\"}>\n      <ListGroup variant=\"flush\">\n        { list_items }\n        {\n          withValU(onUpdate, onUp => <ListGroup.Item className=\"text-muted\">\n            <a onClick={() => this.newEntry(onUp)}>\n              <FontAwesomeIcon icon={faAdd} /> Add Requirement ({ operator.toUpperCase() })\n            </a>\n          </ListGroup.Item>)\n        }\n      </ListGroup>\n    </Card>\n  }\n}\n\ntype ResourceQuotaComponentProps = {\n  quota: MappedResourceQuota,\n  status: ResourceRequirementStatus,\n  onUpdate?: (data: ResourceQuota | null) => void\n};\n\nclass ResourceQuotaComponent extends React.PureComponent<ResourceQuotaComponentProps> {\n  edit = (onUpdate: NonNullable<ResourceQuotaComponentProps[\"onUpdate\"]>) => {\n    confirmModal(\"\", {\n      data: this.props.quota as ResourceQuota,\n      title: \"Edit Quota\",\n      okText: \"Confirm\",\n      renderInner: (data: ResourceQuota, onUpdate) => (\n        <EditResourceQuota value={data} onUpdate={s => onUpdate(update(data, s))} />\n      )\n    }).then(data => {\n      onUpdate(data)\n    })\n  }\n\n  render() {\n    const { quota, status, onUpdate } = this.props;\n    const { ready, satisfied } = status;\n\n    return <ListGroup.Item className=\"wizard-resource-status-quota\" data-satisfied={satisfied}>\n      <Row>\n        <Col>\n          { quota.template.fta ? \"[FTA]\" : undefined } <ResourceRoleLabel role={quota.template.role} />\n        </Col>\n        <Col md={2} className=\"wizard-resource-status-count\" data-satisfied={quota.satisfied}>\n          <SimpleTooltip id=\"qr\" tip={ quota.resource_ids.map(r => <p key={r} className=\"m-0\"> { r }</p>) } disabled={quota.resource_ids.length === 0}>\n            { quota.resource_ids.length > 0 ? String(quota.resource_ids.length) : \"--\" }\n            &nbsp;&nbsp;\n            <span className=\"text-muted\">\n              of\n              &nbsp;\n              { quota.min }{ quota.max ? (quota.max == quota.min ? \"\" : ` - ${quota.max}`) : \"+\" }\n            </span>\n          </SimpleTooltip>\n        </Col>\n        <Col md={2}>\n          {\n            satisfied ? <span className={ready ? \"\" : \"text-muted\"}>\n              <FontAwesomeIcon icon={ready ? faCheck : faTimes} />&nbsp; { ready ? \"READY\" : \"Not Ready\" }\n            </span>\n            : <span className=\"text-muted\">\n              <FontAwesomeIcon icon={faTimes} /> &nbsp; Quota\n            </span>\n          }\n        </Col>\n        {\n          withVal(onUpdate, onUp => <Col md=\"auto\">\n            <a className=\"text-muted\" onClick={() => this.edit(onUp)}> <FontAwesomeIcon icon={faPencil} /> </a>\n            &nbsp;&nbsp;\n            <a className=\"text-danger\" onClick={() => onUp(null)}> <FontAwesomeIcon icon={faTrash} /> </a>\n          </Col>)\n        }\n      </Row>\n    </ListGroup.Item>\n  }\n}\n\ntype EditResourceRequirementProps = {\n  value: ResourceRequirements,\n  onUpdate: (rr: Spec<ResourceRequirements>) => void\n};\n\nclass EditResourceRequirement extends React.Component<EditResourceRequirementProps> {\n  renderList = (operator: \"And\" | \"Or\", elements: ResourceRequirements[]) => {\n    return <React.Fragment>\n      {\n        elements.map((el, i) => (\n          <Card className=\"border-light my-3\">\n            <Card.Body>\n              <EditResourceRequirement\n                value={el}\n                onUpdate={v => this.props.onUpdate({ [operator]: { [i]: { $set: update(el, v) } } })}\n              />\n              <Row className=\"mt-2\">\n                <Col className=\"text-end\">\n                  <Button\n                    variant=\"danger\"\n                    size=\"sm\"\n                    disabled={elements.length === 1}\n                    onClick={() => this.props.onUpdate({ [operator]: { $splice: [[i, 1]] } })}\n                  >\n                    <FontAwesomeIcon icon={faTrash} /> Delete\n                  </Button>\n                </Col>\n              </Row>\n            </Card.Body>\n          </Card>\n        ))\n      }\n      <a className=\"mt-2 text-muted\" onClick={() => this.props.onUpdate({ [operator]: { $push: [ {Quota: NEW_DEFAULTS.Quota} ] } })}>\n        <FontAwesomeIcon icon={faAdd} /> Add Requirement ({ operator.toUpperCase() })\n      </a>\n    </React.Fragment>\n  }\n  \n  render() {\n    const { value, onUpdate } = this.props;\n    return <React.Fragment>\n      <Row>\n        <Col>\n          <EnumToggleGroup\n            name=\"resource_type\"\n            value={Object.keys(value)[0] as any}\n            values={[\"And\", \"Or\", \"Quota\"]}\n            variant=\"secondary\"\n            onChange={(type: VariantKeys<ResourceRequirements>) => {\n              onUpdate({ $set: { [type]: NEW_DEFAULTS[type] } } as Spec<ResourceRequirements>)\n            }}\n          />\n        </Col>\n      </Row>\n      {\n        \"Quota\" in value ? \n          <EditResourceQuota value={value.Quota} onUpdate={q => onUpdate({ Quota: q })} />\n          : \"And\" in value ? this.renderList(\"And\", value.And)\n          : this.renderList(\"Or\", value.Or) \n      }\n    </React.Fragment>\n  }\n}\n\ntype EditResourceQuotaProps = {\n  value: ResourceQuota,\n  onUpdate: (q: Spec<ResourceQuota>) => void,\n};\n\nclass EditResourceQuota extends React.Component<EditResourceQuotaProps> {\n  render() {\n    const { value, onUpdate } = this.props;\n    const { template, min, max } = value;\n\n    return <React.Fragment>\n      <Row className=\"my-3\">\n        <Col>\n          <Form.Select value={JSON.stringify(template.role)} onChange={(v) => onUpdate({ template: { role: { $set: JSON.parse(v.target.value) as ResourceRole } } })}>\n            {\n              ROLES.map((role, i) => <option key={i} value={JSON.stringify(role)}> <ResourceRoleLabel role={role} /> </option>)\n            }\n          </Form.Select>\n        </Col>\n        <Col md={3} className=\"text-end\">\n          <Button variant={template.fta ? \"gold\" : \"secondary\"} onClick={() => onUpdate({ template: { fta: { $set: !(template.fta || false) } } })}>\n            { template.fta ? <React.Fragment> <FontAwesomeIcon icon={faCrown} /> &nbsp; FTA </React.Fragment> : \"Not FTA\"  }\n          </Button>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"auto\"> <Form.Label className=\"text-muted\"> # Resources:  </Form.Label> </Col>\n        <Col md={2}>\n          <BufferedFormControl\n            instant\n            type=\"number\"\n            min={0}\n            max={max || undefined}\n            value={min}\n            onUpdate={v => onUpdate({ min: { $set: Number(v) } })}\n          />\n        </Col>\n        <Col md=\"auto\"> - </Col>\n        <Col md={2}>\n          <BufferedFormControl\n            instant\n            type=\"number\"\n            min={min}\n            value={max || \"\"}\n            onUpdate={v => onUpdate({ max: { $set: nullIfEmpty(String(v)) ? Number(v) : undefined } })}\n          />\n        </Col>\n        <Col className=\"text-end\">\n          <Button\n            variant={template.ready ? \"good\" : \"secondary\"} \n            onClick={() => onUpdate({ template: { ready: { $set: !(template.ready || false) } } })}\n          >\n            <FontAwesomeIcon icon={template.ready ? faCheck : faTimes} /> &nbsp; { template.ready ? \"Req. Ready\" : \"No Ready\" }\n          </Button>\n        </Col>\n      </Row>\n    </React.Fragment>\n  }\n}"],"mappings":"yzBAAA,OAASA,KAAT,CAAgBC,OAAhB,CAAyBC,OAAzB,CAAkCC,YAAlC,CAAgDC,QAAhD,CAA0DC,OAA1D,CAAmEC,OAAnE,KAAkF,mCAAlF,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,YAAT,CAAuBC,WAAvB,KAA0C,6BAA1C,CACA,MAAOC,gBAAP,KAA4B,qCAA5B,CACA,OAAqCC,mCAArC,CAA0EC,iBAA1E,KAAmG,+BAAnG,CACA,MAAOC,cAAP,KAA0B,mCAA1B,CACA,MAAOC,oBAAP,KAAgC,yCAAhC,CACA,MAAOC,OAAP,KAA6B,qBAA7B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,MAApB,CAA4BC,IAA5B,CAAkCC,GAAlC,CAAuCC,IAAvC,CAA6CC,SAA7C,CAAwDC,GAAxD,CAA6DC,KAA7D,KAA0E,iBAA1E,CACA,OAASC,UAAT,CAAkCC,OAAlC,CAA2CC,QAA3C,KAA2D,cAA3D,CACA,OAASC,SAAT,CAAoBC,iBAApB,CAAuCC,KAAvC,KAAoD,uBAApD,CACA,OAASC,kBAAT,KAAmC,sBAAnC,CAEA,OAASC,sBAAT,KAAuC,eAAvC,CACA,OAASC,WAAT,KAA4B,iBAA5B,C,wFAQA,QAASC,cAAT,CAAuBC,EAAvB,CAA4D,CAC1D,MAAO,CACLC,KAAK,CAAE,CACLC,QAAQ,CAAE,CACRC,KAAK,CAAE,IADC,CAERC,IAAI,CAAE,CAAEC,YAAY,CAAEL,EAAhB,CAFE,CADL,CAKLM,GAAG,CAAE,CALA,CAMLC,GAAG,CAAE,CANA,CADF,CAAP,CAUD,CAED,QAASC,aAAT,CAAsBR,EAAtB,CAA0D,CACxD,MAAO,CACLC,KAAK,CAAE,CACLC,QAAQ,CAAE,CACRO,GAAG,CAAE,KADG,CAERN,KAAK,CAAE,IAFC,CAGRC,IAAI,CAAE,CAAEM,WAAW,CAAEV,EAAf,CAHE,CADL,CAMLM,GAAG,CAAE,CANA,CAOLC,GAAG,CAAE,CAPA,CADF,CAAP,CAWD,CAED,GAAMI,SAAgC,CAAG,CACvCZ,aAAa,CAAC,aAAD,CAD0B,CAEvCA,aAAa,CAAC,CAAEa,QAAQ,CAAE,CAAE,MAAF,CAAU,MAAV,CAAZ,CAAD,CAF0B,CAGvCb,aAAa,CAAC,CAAEa,QAAQ,CAAE,CAAE,MAAF,CAAU,KAAV,CAAZ,CAAD,CAH0B,CAIvCb,aAAa,CAAC,CAAEa,QAAQ,CAAE,CAAE,KAAF,CAAS,MAAT,CAAZ,CAAD,CAJ0B,CAKvCb,aAAa,CAAC,CAAEa,QAAQ,CAAE,CAAE,KAAF,CAAS,KAAT,CAAZ,CAAD,CAL0B,CAAzC,CAQA,GAAMC,YAAmC,CAAG,CAC1CL,YAAY,CAAC,CAAEM,QAAQ,CAAE,MAAZ,CAAD,CAD8B,CAE1CN,YAAY,CAAC,CAAEM,QAAQ,CAAE,KAAZ,CAAD,CAF8B,CAA5C,CAKA,GAAMC,WAAkC,CAAGtB,SAAS,CAACuB,OAAV,CAAkB,SAAAF,QAAQ,QAAIpB,kBAAiB,CAACuB,GAAlB,CAAsB,SAAAC,GAAG,QAChG,CAAEjB,KAAK,CAAE,CAAEC,QAAQ,CAAE,CAAEE,IAAI,CAAE,CAAEe,SAAS,CAAE,CAAEL,QAAQ,CAAEA,QAAZ,CAAsBM,OAAO,CAAEF,GAA/B,CAAb,CAAR,CAAZ,CAA2EZ,GAAG,CAAE,CAAhF,CAAT,CADgG,EAAzB,CAAJ,EAA1B,CAA3C,CAIA,GAAMe,sBAA2C,CAAG,CAClDC,EAAE,CAAE,CACF,CAAErB,KAAK,CAAE,CAAEC,QAAQ,CAAE,CAAEE,IAAI,CAAE,kBAAR,CAAZ,CAA0CE,GAAG,CAAE,CAA/C,CAAT,CADE,CAEF,CAAEiB,GAAG,CAAER,UAAP,CAFE,CAD8C,CAApD,CAOA,GAAMS,SAA+C,CAAG,CACtD,sBAAuB,CACrBD,GAAG,EACD,CAAEtB,KAAK,CAAE,CAAEC,QAAQ,CAAE,CAAEO,GAAG,CAAE,IAAP,CAAaN,KAAK,CAAE,IAApB,CAA0BC,IAAI,CAAE,KAAhC,CAAZ,CAAqDE,GAAG,CAAE,CAA1D,CAAT,CADC,CAED,CAAEL,KAAK,CAAE,CAAEC,QAAQ,CAAE,CAAEE,IAAI,CAAE,kBAAR,CAAZ,CAA0CE,GAAG,CAAE,CAA/C,CAAkDC,GAAG,CAAE,CAAvD,CAAT,CAFC,CAGD,CAAEN,KAAK,CAAE,CAAEC,QAAQ,CAAE,CAAEE,IAAI,CAAE,YAAR,CAAZ,CAAoCE,GAAG,CAAE,CAAzC,CAAT,CAHC,CAID,CAAEL,KAAK,CAAE,CAAEC,QAAQ,CAAE,CAAEE,IAAI,CAAE,iBAAR,CAAZ,CAAyCE,GAAG,CAAE,CAA9C,CAAT,CAJC,CAKD,CAAEL,KAAK,CAAE,CAAEC,QAAQ,CAAE,CAAEE,IAAI,CAAE,cAAR,CAAZ,CAAsCE,GAAG,CAAE,CAA3C,CAAT,CALC,CAMDe,qBANC,SAOEV,QAPF,CAQEE,WARF,CADkB,CAD+B,CAAxD,CAeA,GAAMY,cAAmC,CAAG,CAC1CxB,KAAK,CAAE,CACLC,QAAQ,CAAE,CACRO,GAAG,CAAE,KADG,CAERN,KAAK,CAAE,KAFC,CAGRC,IAAI,CAAE,KAHE,CADL,CAMLE,GAAG,CAAE,CANA,CADmC,CAA5C,CAWA,GAAMoB,aAA+F,gCAChGD,aADgG,MAEnGF,GAAG,CAAE,CAAEE,aAAF,CAF8F,CAGnGH,EAAE,CAAE,CAAEG,aAAF,CAH+F,EAArG,C,GAMqBE,mB,6XACVC,K,CAAiC,CACxCC,kBAAkB,CAAE,IADoB,CAExCC,SAAS,CAAE,EAF6B,C,OAK1CC,iB,CAAoB,iBAAM,OAAKC,OAAL,CAAe,CACvC,MAAKC,MAAL,CAAY,cAAZ,CAA4B,WAA5B,CADuC,CAEvC,MAAKA,MAAL,CAAY,kBAAZ,CAAgC,eAAhC,CAFuC,CAGvC,MAAKA,MAAL,CAAY,+BAAZ,CAA6C,oBAA7C,CAHuC,CAArB,E,OAMpBC,I,CAAO,SAACC,EAAD,CAAqC,CAC1C,MAAKC,IAAL,CAAU,CAAEC,QAAQ,CAAE,CAAEC,YAAY,CAAE,CAAEC,SAAS,CAAEJ,EAAb,CAAhB,CAAZ,CAAV,EACD,C,oEAED,iBAAS,iBACP,gBAAuD,KAAKP,KAA5D,CAAMC,kBAAN,aAAMA,kBAAN,CAA0BC,SAA1B,aAA0BA,SAA1B,CAAqCU,aAArC,aAAqCA,aAArC,CACA,mBAAO,MAAC,sBAAD,EAAwB,QAAQ,CAAC,qBAAjC,CAAuD,SAAS,CAAEX,kBAAkB,EAAI,IAAxF,wBACL,6CADK,cAEL,WAAG,SAAS,CAAC,YAAb,wBACE,KAAC,eAAD,EAAiB,IAAI,CAAE7D,YAAvB,EADF,qMAFK,cAQL,KAAC,eAAD,EAAiB,SAAS,CAAE8D,SAA5B,CAAuC,aAAa,CAAEU,aAAtD,EARK,cAUL,aAVK,cAWL,qBAEIX,kBAAkB,EAAI,IAAtB,cAA6B,oCAC3B,iDAD2B,cAE3B,UAAG,SAAS,CAAC,YAAb,0DAF2B,CAIzBY,MAAM,CAACC,IAAP,CAAYlB,QAAZ,EAAsBP,GAAtB,CAA0B,SAAA0B,CAAC,qBAAI,MAAC,KAAD,CAAO,QAAP,yBAC7B,MAAC,MAAD,EAAQ,OAAO,CAAE,yBAAM,OAAI,CAACT,IAAL,CAAUV,QAAQ,CAACmB,CAAD,CAAlB,CAAN,EAAjB,eAAkDA,CAAlD,OAD6B,UAAJ,EAA3B,CAJyB,GAA7B,cASS,KAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,OAAO,CAAE,yBAAMrE,YAAW,CAAC,iBAAM,OAAI,CAAC4D,IAAL,CAAU,IAAV,CAAN,EAAD,CAAwB,iDAAxB,CAAjB,EAAlC,gCAXb,EAXK,cAyBL,aAzBK,CA4BH3C,OAAO,CAACsC,kBAAD,CAAqB,SAAAe,MAAM,qBAAI,MAAC,KAAD,CAAO,QAAP,yBACpC,KAAC,mCAAD,EAAqC,WAAW,KAAhD,CAAiD,MAAM,CAAEA,MAAzD,EADoC,cAEpC,aAFoC,cAGpC,KAAC,0BAAD,EAA4B,MAAM,CAAEA,MAApC,CAA4C,QAAQ,CAAE,MAAI,CAACV,IAA3D,EAHoC,GAAJ,EAA3B,CA5BJ,GAAP,CAoCD,C,gCAtD6CtC,kB,SAA3B+B,kB,gBAyDfkB,gB,gSACJ,iBAAS,CACP,gBAAqC,KAAKC,KAA1C,CAAQhB,SAAR,aAAQA,SAAR,CAAmBU,aAAnB,aAAmBA,aAAnB,CAEA,mBAAO,KAAC,SAAD,wBACL,MAAC,SAAD,CAAW,IAAX,EAAgB,QAAQ,CAAC,GAAzB,wBACE,MAAC,SAAD,CAAW,MAAX,gBAAqBV,SAAS,CAACiB,MAA/B,0BADF,cAEE,KAAC,SAAD,CAAW,IAAX,wBACE,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,KAAK,KAApB,CAAqB,IAAI,CAAC,IAA1B,wBACE,oCACE,mCACE,4BADF,cAEE,8BAFF,cAGE,gCAHF,GADF,EADF,cAQE,uBAEIjB,SAAS,CAACb,GAAV,CAAc,SAAA+B,CAAC,qBAAI,YAAI,SAAS,CAAC,qBAAd,CAA+C,WAAUA,CAAC,CAACvC,GAA3D,CAAgE,aAAYuC,CAAC,CAAC7C,KAA9E,wBACjB,0BAAO6C,CAAC,CAAChD,EAAT,KAAgBgD,CAAC,CAAChD,EAAF,IAASwC,aAAT,SAASA,aAAT,iBAASA,aAAa,CAAExC,EAAxB,EAA6B,MAA7B,CAAsC,EAAtD,OADiB,cAEjB,0BAAOgD,CAAC,CAACvC,GAAF,cAAQ,qCAAR,CAAuCwC,SAA9C,mBAA6D,KAAC,iBAAD,EAAmB,IAAI,CAAED,CAAC,CAAC5C,IAA3B,EAA7D,OAFiB,cAGjB,YAAI,SAAS,CAAC,uBAAd,4BAAuC,KAAC,eAAD,EAAiB,IAAI,CAAG4C,CAAC,CAAC7C,KAAF,CAAUrC,OAAV,CAAoBI,OAA5C,EAAvC,OAHiB,GAAyC8E,CAAC,CAAChD,EAA3C,CAAJ,EAAf,CAFJ,EARF,GADF,EAFF,GADK,EAAP,CAyBD,C,6BA7B2BnB,KAAK,CAACqE,a,KAqC9BC,2B,yVACJ,iBAAS,CACP,iBAA6B,KAAKL,KAAlC,CAAQF,MAAR,cAAQA,MAAR,CAAgBQ,QAAhB,cAAgBA,QAAhB,CACA,GAAQC,QAAR,CAAoBT,MAApB,CAAQS,OAAR,CAEA,GAAI,SAAWA,QAAf,CAAwB,CACtB,mBAAO,KAAC,sBAAD,EACL,KAAK,CAAEA,OAAO,CAACpD,KADV,CAEL,MAAM,CAAE2C,MAFH,CAGL,QAAQ,CAAEpD,QAAQ,CAAC4D,QAAD,CAAW,SAAAE,IAAI,QAAI,UAAAC,EAAE,QAAID,KAAI,CAACC,EAAE,CAAG,CAAEtD,KAAK,CAAEsD,EAAT,CAAH,CAAmB,IAAtB,CAAR,EAAN,EAAf,CAHb,EAAP,CAKD,CAND,IAMO,IAAI,OAASF,QAAb,CAAsB,CAC3B,mBAAO,KAAC,4BAAD,EAA8B,QAAQ,CAAC,KAAvC,CAA6C,QAAQ,CAAEA,OAAO,CAAC9B,GAA/D,CAAoE,MAAM,CAAEqB,MAA5E,CAAoF,QAAQ,CAAEQ,QAA9F,EAAP,CACD,CAFM,IAEA,IAAI,MAAQC,QAAZ,CAAqB,CAC1B,mBAAO,KAAC,4BAAD,EAA8B,QAAQ,CAAC,IAAvC,CAA4C,QAAQ,CAAEA,OAAO,CAAC/B,EAA9D,CAAkE,MAAM,CAAEsB,MAA1E,CAAkF,QAAQ,CAAEQ,QAA5F,EAAP,CACD,CACF,C,wCAhBsCvE,KAAK,CAACqE,a,KAwBzCM,6B,ubACJC,Q,CAAW,SAACL,QAAD,CAA0E,CACnF/E,YAAY,CAAC,EAAD,CAAK,CACfqF,IAAI,CAAE,CAAEzD,KAAK,CAAEyB,YAAY,CAACzB,KAAtB,CADS,CAEf0D,KAAK,CAAE,0BAFQ,CAGfC,MAAM,CAAE,KAHO,CAIfC,WAAW,CAAE,qBAACH,IAAD,CAA6BN,SAA7B,qBACX,KAAC,uBAAD,EAAyB,KAAK,CAAEM,IAAhC,CAAsC,QAAQ,CAAE,kBAAAI,CAAC,QAAIV,UAAQ,CAACxE,MAAM,CAAC8E,IAAD,CAAOI,CAAP,CAAP,CAAZ,EAAjD,EADW,EAJE,CAAL,CAAZ,CAOGC,IAPH,CAOQ,SAAAL,IAAI,CAAI,CACdN,QAAQ,CAACxE,MAAM,CAAC,OAAKkE,KAAL,CAAWF,MAAX,CAAkBoB,QAAnB,oBAAgC,OAAKlB,KAAL,CAAWmB,QAA3C,CAAsD,CAAEC,KAAK,CAAE,CAACR,IAAD,CAAT,CAAtD,EAAP,CAAR,CACD,CATD,EAUD,C,+EAED,iBAAS,iBACP,iBAAiD,KAAKZ,KAAtD,CAAQqB,QAAR,cAAQA,QAAR,CAAkBF,QAAlB,cAAkBA,QAAlB,CAA4BrB,MAA5B,cAA4BA,MAA5B,CAAoCQ,QAApC,cAAoCA,QAApC,CAEA,GAAIgB,WAAU,CAAGD,QAAQ,CAAClD,GAAT,CAAa,SAACoD,CAAD,CAAIC,CAAJ,qBAAU,YAAa,SAAS,CAAC,6BAAvB,CAAqD,iBAAgBD,CAAC,CAACE,SAAvE,uBACtC,KAAC,0BAAD,EACE,MAAM,CAAEF,CADV,CAEE,QAAQ,CAAE7E,QAAQ,CAAC4D,QAAD,CAAW,SAAAE,IAAI,QAAI,UAACI,IAAD,CAAuC,CAC1E,GAAIA,IAAI,EAAI,IAAZ,EACE,GAAIS,QAAQ,CAACpB,MAAT,GAAoB,CAAxB,CACEO,IAAI,CAAC,IAAD,CAAJ,CADF,IAGEA,KAAI,CAAC1E,MAAM,CAACgE,MAAM,CAACoB,QAAR,oBAAqBC,QAArB,CAAgC,CAAEO,OAAO,CAAE,CAAC,CAAEF,CAAF,CAAK,CAAL,CAAD,CAAX,CAAhC,EAAP,CAAJ,CAJJ,KAKK,CACHhB,IAAI,CAAC1E,MAAM,CAACgE,MAAM,CAACoB,QAAR,oBAAqBC,QAArB,oBAAmCK,CAAnC,CAAuC,CAAEG,IAAI,CAAEf,IAAR,CAAvC,GAAP,CAAJ,CACD,CACF,CATgC,EAAf,CAFpB,EADsC,EAAUY,CAAV,CAAV,EAAb,CAAjB,CAgBA,GAAIL,QAAQ,EAAI,IAAhB,CAAsB,CACpBG,UAAU,CAAG9E,UAAU,CAAC8E,UAAD,CAAa,8BAAM,KAAC,SAAD,CAAW,IAAX,EAAyB,SAAS,CAAC,2BAAnC,uBACxC,aAAM,SAAS,CAAC,YAAhB,gBADwC,EAAoB,IAApB,CAAN,EAAb,CAAvB,CAGD,CAED,mBAAO,KAAC,IAAD,EAAM,SAAS,CAAC,wBAAhB,CAAyC,EAAE,CAAExB,MAAM,CAAC2B,SAAP,CAAmB,SAAnB,CAA+B,MAA5E,uBACL,MAAC,SAAD,EAAW,OAAO,CAAC,OAAnB,WACIH,UADJ,CAGI5E,QAAQ,CAAC4D,QAAD,CAAW,SAAAE,IAAI,qBAAI,KAAC,SAAD,CAAW,IAAX,EAAgB,SAAS,CAAC,YAA1B,uBACzB,WAAG,OAAO,CAAE,yBAAM,OAAI,CAACG,QAAL,CAAcH,IAAd,CAAN,EAAZ,wBACE,KAAC,eAAD,EAAiB,IAAI,CAAEzF,KAAvB,EADF,sBACsDoG,QAAQ,CAACS,WAAT,EADtD,OADyB,EAAJ,EAAf,CAHZ,GADK,EAAP,CAYD,C,0CAnDwC7F,KAAK,CAACqE,a,KA4D3CyB,uB,+ZACJC,I,CAAO,SAACxB,QAAD,CAAoE,CACzE/E,YAAY,CAAC,EAAD,CAAK,CACfqF,IAAI,CAAE,OAAKZ,KAAL,CAAW+B,KADF,CAEflB,KAAK,CAAE,YAFQ,CAGfC,MAAM,CAAE,SAHO,CAIfC,WAAW,CAAE,qBAACH,IAAD,CAAsBN,UAAtB,qBACX,KAAC,iBAAD,EAAmB,KAAK,CAAEM,IAA1B,CAAgC,QAAQ,CAAE,kBAAAI,CAAC,QAAIV,WAAQ,CAACxE,MAAM,CAAC8E,IAAD,CAAOI,CAAP,CAAP,CAAZ,EAA3C,EADW,EAJE,CAAL,CAAZ,CAOGC,IAPH,CAOQ,SAAAL,IAAI,CAAI,CACdN,QAAQ,CAACM,IAAD,CAAR,CACD,CATD,EAUD,C,yEAED,iBAAS,iBACP,iBAAoC,KAAKZ,KAAzC,CAAQ+B,KAAR,cAAQA,KAAR,CAAejC,MAAf,cAAeA,MAAf,CAAuBQ,QAAvB,cAAuBA,QAAvB,CACA,GAAQjD,MAAR,CAA6ByC,MAA7B,CAAQzC,KAAR,CAAeoE,SAAf,CAA6B3B,MAA7B,CAAe2B,SAAf,CAEA,mBAAO,KAAC,SAAD,CAAW,IAAX,EAAgB,SAAS,CAAC,8BAA1B,CAAyD,iBAAgBA,SAAzE,uBACL,MAAC,GAAD,yBACE,MAAC,GAAD,YACIM,KAAK,CAAC3E,QAAN,CAAeO,GAAf,CAAqB,OAArB,CAA+BwC,SADnC,kBAC+C,KAAC,iBAAD,EAAmB,IAAI,CAAE4B,KAAK,CAAC3E,QAAN,CAAeE,IAAxC,EAD/C,GADF,cAIE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,8BAAtB,CAAqD,iBAAgByE,KAAK,CAACN,SAA3E,uBACE,MAAC,aAAD,EAAe,EAAE,CAAC,IAAlB,CAAuB,GAAG,CAAGM,KAAK,CAACC,YAAN,CAAmB7D,GAAnB,CAAuB,SAAA+B,CAAC,qBAAI,WAAW,SAAS,CAAC,KAArB,eAA8BA,CAA9B,GAAQA,CAAR,CAAJ,EAAxB,CAA7B,CAAkG,QAAQ,CAAE6B,KAAK,CAACC,YAAN,CAAmB/B,MAAnB,GAA8B,CAA1I,WACI8B,KAAK,CAACC,YAAN,CAAmB/B,MAAnB,CAA4B,CAA5B,CAAgCgC,MAAM,CAACF,KAAK,CAACC,YAAN,CAAmB/B,MAApB,CAAtC,CAAoE,IADxE,yBAGE,cAAM,SAAS,CAAC,YAAhB,qBAGI8B,KAAK,CAACvE,GAHV,CAGiBuE,KAAK,CAACtE,GAAN,CAAasE,KAAK,CAACtE,GAAN,EAAasE,KAAK,CAACvE,GAAnB,CAAyB,EAAzB,cAAoCuE,KAAK,CAACtE,GAA1C,CAAb,CAAgE,GAHjF,GAHF,GADF,EAJF,cAeE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,UAEIgE,SAAS,cAAG,cAAM,SAAS,CAAEpE,KAAK,CAAG,EAAH,CAAQ,YAA9B,wBACV,KAAC,eAAD,EAAiB,IAAI,CAAEA,KAAK,CAAGrC,OAAH,CAAaI,OAAzC,EADU,SACmDiC,KAAK,CAAG,OAAH,CAAa,WADrE,GAAH,cAGP,cAAM,SAAS,CAAC,YAAhB,wBACA,KAAC,eAAD,EAAiB,IAAI,CAAEjC,OAAvB,EADA,iBALN,EAfF,CA0BIqB,OAAO,CAAC6D,QAAD,CAAW,SAAAE,IAAI,qBAAI,MAAC,GAAD,EAAK,EAAE,CAAC,MAAR,wBACxB,WAAG,SAAS,CAAC,YAAb,CAA0B,OAAO,CAAE,yBAAM,OAAI,CAACsB,IAAL,CAAUtB,IAAV,CAAN,EAAnC,4BAA2D,KAAC,eAAD,EAAiB,IAAI,CAAErF,QAAvB,EAA3D,OADwB,yBAGxB,WAAG,SAAS,CAAC,aAAb,CAA2B,OAAO,CAAE,yBAAMqF,KAAI,CAAC,IAAD,CAAV,EAApC,4BAAuD,KAAC,eAAD,EAAiB,IAAI,CAAEnF,OAAvB,EAAvD,OAHwB,GAAJ,EAAf,CA1BX,GADK,EAAP,CAmCD,C,oCArDkCU,KAAK,CAACqE,a,KA6DrC8B,wB,yZACJC,U,CAAa,SAAChB,QAAD,CAAyBiB,QAAzB,CAA8D,CACzE,mBAAO,MAAC,KAAD,CAAO,QAAP,YAEHA,QAAQ,CAACjE,GAAT,CAAa,SAACkE,EAAD,CAAKb,CAAL,qBACX,KAAC,IAAD,EAAM,SAAS,CAAC,mBAAhB,uBACE,MAAC,IAAD,CAAM,IAAN,yBACE,KAAC,uBAAD,EACE,KAAK,CAAEa,EADT,CAEE,QAAQ,CAAE,kBAAAC,CAAC,QAAI,QAAKtC,KAAL,CAAWM,QAAX,oBAAuBa,QAAvB,oBAAqCK,CAArC,CAAyC,CAAEG,IAAI,CAAE7F,MAAM,CAACuG,EAAD,CAAKC,CAAL,CAAd,CAAzC,GAAJ,EAFb,EADF,cAKE,KAAC,GAAD,EAAK,SAAS,CAAC,MAAf,uBACE,KAAC,GAAD,EAAK,SAAS,CAAC,UAAf,uBACE,MAAC,MAAD,EACE,OAAO,CAAC,QADV,CAEE,IAAI,CAAC,IAFP,CAGE,QAAQ,CAAEF,QAAQ,CAACnC,MAAT,GAAoB,CAHhC,CAIE,OAAO,CAAE,yBAAM,QAAKD,KAAL,CAAWM,QAAX,oBAAuBa,QAAvB,CAAkC,CAAEO,OAAO,CAAE,CAAC,CAACF,CAAD,CAAI,CAAJ,CAAD,CAAX,CAAlC,EAAN,EAJX,wBAME,KAAC,eAAD,EAAiB,IAAI,CAAEnG,OAAvB,EANF,aADF,EADF,EALF,GADF,EADW,EAAb,CAFG,cAyBL,WAAG,SAAS,CAAC,iBAAb,CAA+B,OAAO,CAAE,yBAAM,QAAK2E,KAAL,CAAWM,QAAX,oBAAuBa,QAAvB,CAAkC,CAAEC,KAAK,CAAE,CAAE,CAACjE,KAAK,CAAEyB,YAAY,CAACzB,KAArB,CAAF,CAAT,CAAlC,EAAN,EAAxC,wBACE,KAAC,eAAD,EAAiB,IAAI,CAAEpC,KAAvB,EADF,sBACsDoG,QAAQ,CAACS,WAAT,EADtD,OAzBK,GAAP,CA6BD,C,0EAED,iBAAS,CACP,iBAA4B,KAAK5B,KAAjC,CAAQuC,KAAR,cAAQA,KAAR,CAAejC,UAAf,cAAeA,QAAf,CACA,mBAAO,MAAC,KAAD,CAAO,QAAP,yBACL,KAAC,GAAD,wBACE,KAAC,GAAD,wBACE,KAAC,eAAD,EACE,IAAI,CAAC,eADP,CAEE,KAAK,CAAEX,MAAM,CAACC,IAAP,CAAY2C,KAAZ,EAAmB,CAAnB,CAFT,CAGE,MAAM,CAAE,CAAC,KAAD,CAAQ,IAAR,CAAc,OAAd,CAHV,CAIE,OAAO,CAAC,WAJV,CAKE,QAAQ,CAAE,kBAACC,IAAD,CAA6C,CACrDlC,UAAQ,CAAC,CAAEqB,IAAI,oBAAKa,IAAL,CAAY5D,YAAY,CAAC4D,IAAD,CAAxB,CAAN,CAAD,CAAR,CACD,CAPH,EADF,EADF,EADK,CAeH,SAAWD,MAAX,cACE,KAAC,iBAAD,EAAmB,KAAK,CAAEA,KAAK,CAACpF,KAAhC,CAAuC,QAAQ,CAAE,kBAAAsF,CAAC,QAAInC,WAAQ,CAAC,CAAEnD,KAAK,CAAEsF,CAAT,CAAD,CAAZ,EAAlD,EADF,CAEI,OAASF,MAAT,CAAiB,KAAKJ,UAAL,CAAgB,KAAhB,CAAuBI,KAAK,CAAC9D,GAA7B,CAAjB,CACA,KAAK0D,UAAL,CAAgB,IAAhB,CAAsBI,KAAK,CAAC/D,EAA5B,CAlBD,GAAP,CAqBD,C,qCAxDmCzC,KAAK,CAAC2G,S,KAgEtCC,kB,oSACJ,iBAAS,CACP,iBAA4B,KAAK3C,KAAjC,CAAQuC,KAAR,cAAQA,KAAR,CAAejC,UAAf,cAAeA,QAAf,CACA,GAAQlD,SAAR,CAA+BmF,KAA/B,CAAQnF,QAAR,CAAkBI,GAAlB,CAA+B+E,KAA/B,CAAkB/E,GAAlB,CAAuBC,GAAvB,CAA+B8E,KAA/B,CAAuB9E,GAAvB,CAEA,mBAAO,MAAC,KAAD,CAAO,QAAP,yBACL,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACE,KAAC,GAAD,wBACE,KAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAEmF,IAAI,CAACC,SAAL,CAAezF,QAAQ,CAACE,IAAxB,CAApB,CAAmD,QAAQ,CAAE,kBAACgF,CAAD,QAAOhC,WAAQ,CAAC,CAAElD,QAAQ,CAAE,CAAEE,IAAI,CAAE,CAAEqE,IAAI,CAAEiB,IAAI,CAACE,KAAL,CAAWR,CAAC,CAACS,MAAF,CAASR,KAApB,CAAR,CAAR,CAAZ,CAAD,CAAf,EAA7D,UAEI1F,KAAK,CAACsB,GAAN,CAAU,SAACb,IAAD,CAAOkE,CAAP,qBAAa,gBAAgB,KAAK,CAAEoB,IAAI,CAACC,SAAL,CAAevF,IAAf,CAAvB,4BAA8C,KAAC,iBAAD,EAAmB,IAAI,CAAEA,IAAzB,EAA9C,OAAakE,CAAb,CAAb,EAAV,CAFJ,EADF,EADF,cAQE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,UAAtB,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAEpE,QAAQ,CAACO,GAAT,CAAe,MAAf,CAAwB,WAAzC,CAAsD,OAAO,CAAE,yBAAM2C,WAAQ,CAAC,CAAElD,QAAQ,CAAE,CAAEO,GAAG,CAAE,CAAEgE,IAAI,CAAE,EAAEvE,QAAQ,CAACO,GAAT,EAAgB,KAAlB,CAAR,CAAP,CAAZ,CAAD,CAAd,EAA/D,UACIP,QAAQ,CAACO,GAAT,cAAe,MAAC,KAAD,CAAO,QAAP,6BAAiB,KAAC,eAAD,EAAiB,IAAI,CAAE1C,OAAvB,EAAjB,gBAAf,CAAkG,SADtG,EADF,EARF,GADK,cAeL,MAAC,GAAD,yBACE,MAAC,GAAD,EAAK,EAAE,CAAC,MAAR,4BAAgB,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,YAAtB,6BAAhB,OADF,cAEE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,KAAC,mBAAD,EACE,OAAO,KADT,CAEE,IAAI,CAAC,QAFP,CAGE,GAAG,CAAE,CAHP,CAIE,GAAG,CAAEwC,GAAG,EAAI0C,SAJd,CAKE,KAAK,CAAE3C,GALT,CAME,QAAQ,CAAE,kBAAA8E,CAAC,QAAIhC,WAAQ,CAAC,CAAE9C,GAAG,CAAE,CAAEmE,IAAI,CAAEqB,MAAM,CAACV,CAAD,CAAd,CAAP,CAAD,CAAZ,EANb,EADF,EAFF,cAYE,KAAC,GAAD,EAAK,EAAE,CAAC,MAAR,iBAZF,cAaE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,KAAC,mBAAD,EACE,OAAO,KADT,CAEE,IAAI,CAAC,QAFP,CAGE,GAAG,CAAE9E,GAHP,CAIE,KAAK,CAAEC,GAAG,EAAI,EAJhB,CAKE,QAAQ,CAAE,kBAAA6E,CAAC,QAAIhC,WAAQ,CAAC,CAAE7C,GAAG,CAAE,CAAEkE,IAAI,CAAE3E,WAAW,CAACiF,MAAM,CAACK,CAAD,CAAP,CAAX,CAAyBU,MAAM,CAACV,CAAD,CAA/B,CAAqCnC,SAA7C,CAAP,CAAD,CAAZ,EALb,EADF,EAbF,cAsBE,KAAC,GAAD,EAAK,SAAS,CAAC,UAAf,uBACE,MAAC,MAAD,EACE,OAAO,CAAE/C,QAAQ,CAACC,KAAT,CAAiB,MAAjB,CAA0B,WADrC,CAEE,OAAO,CAAE,yBAAMiD,WAAQ,CAAC,CAAElD,QAAQ,CAAE,CAAEC,KAAK,CAAE,CAAEsE,IAAI,CAAE,EAAEvE,QAAQ,CAACC,KAAT,EAAkB,KAApB,CAAR,CAAT,CAAZ,CAAD,CAAd,EAFX,wBAIE,KAAC,eAAD,EAAiB,IAAI,CAAED,QAAQ,CAACC,KAAT,CAAiBrC,OAAjB,CAA2BI,OAAlD,EAJF,UAIyEgC,QAAQ,CAACC,KAAT,CAAiB,YAAjB,CAAgC,UAJzG,GADF,EAtBF,GAfK,GAAP,CA+CD,C,+BApD6BtB,KAAK,CAAC2G,S"},"metadata":{},"sourceType":"module"}