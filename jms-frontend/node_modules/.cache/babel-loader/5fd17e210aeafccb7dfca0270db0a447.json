{"ast":null,"code":"import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Row}from\"react-bootstrap\";import AudienceCard from\"./AudienceCard\";import BaseAudienceScene from\"./BaseAudienceScene\";import PlayoffBracketGraph,{as_playoffs}from\"components/PlayoffBracket\";import React from\"react\";import PlayoffRoundRobin from\"components/PlayoffRoundRobin\";import PlayoffDoubleBracketGraph from\"components/PlayoffDoubleBracket\";import{jsx as _jsx}from\"react/jsx-runtime\";var AudienceScenePlayoffBracket=/*#__PURE__*/function(_BaseAudienceScene){_inherits(AudienceScenePlayoffBracket,_BaseAudienceScene);var _super=_createSuper(AudienceScenePlayoffBracket);function AudienceScenePlayoffBracket(){var _this;_classCallCheck(this,AudienceScenePlayoffBracket);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.componentDidMount=function(){return _this.handles=[_this.listen(\"Match/Playoffs/Generation\",\"gen_record\"),_this.listen(\"Match/Next\",\"next\")];};_this.show=function(){var _gen_record$record;var _this$state=_this.state,gen_record=_this$state.gen_record,next=_this$state.next;// const gen_record_data = (gen_record?.record?.data as (PlayoffGenRecordData | undefined));\nvar data=as_playoffs(gen_record===null||gen_record===void 0?void 0:(_gen_record$record=gen_record.record)===null||_gen_record$record===void 0?void 0:_gen_record$record.data);return/*#__PURE__*/_jsx(AudienceCard,{event_name:_this.props.details.event_name,className:\"audience-playoff-bracket\",children:/*#__PURE__*/_jsx(Row,{className:\"grow\",children:(data===null||data===void 0?void 0:data.mode)===\"Bracket\"?/*#__PURE__*/_jsx(PlayoffBracketGraph,{gen_record:gen_record,next:next}):(data===null||data===void 0?void 0:data.mode)===\"DoubleBracket\"?/*#__PURE__*/_jsx(PlayoffDoubleBracketGraph,{gen_record:gen_record,next:next}):(data===null||data===void 0?void 0:data.mode)===\"RoundRobin\"?/*#__PURE__*/_jsx(PlayoffRoundRobin,{gen_record:gen_record,next:next}):undefined})});};return _this;}return _createClass(AudienceScenePlayoffBracket);}(BaseAudienceScene);export{AudienceScenePlayoffBracket as default};","map":{"version":3,"names":["Row","AudienceCard","BaseAudienceScene","PlayoffBracketGraph","as_playoffs","React","PlayoffRoundRobin","PlayoffDoubleBracketGraph","AudienceScenePlayoffBracket","state","componentDidMount","handles","listen","show","gen_record","next","data","record","props","details","event_name","mode","undefined"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/audience/PlayoffBracket.tsx"],"sourcesContent":["import { Col, Row } from \"react-bootstrap\";\nimport _ from \"lodash\";\nimport { MatchGenerationRecordData, SerialisedMatchGeneration, SerializedMatch } from \"ws-schema\"\nimport AudienceCard from \"./AudienceCard\";\nimport BaseAudienceScene from \"./BaseAudienceScene\";\nimport PlayoffBracketGraph, { as_playoffs } from \"components/PlayoffBracket\";\nimport React from \"react\";\nimport PlayoffRoundRobin from \"components/PlayoffRoundRobin\";\nimport PlayoffDoubleBracketGraph from \"components/PlayoffDoubleBracket\";\n\ntype AudienceScenePlayoffBracketState = {\n  gen_record?: SerialisedMatchGeneration,\n  next?: SerializedMatch\n};\n\nexport default class AudienceScenePlayoffBracket extends BaseAudienceScene<{}, AudienceScenePlayoffBracketState> {\n  readonly state: AudienceScenePlayoffBracketState = { };\n\n  componentDidMount = () => this.handles = [\n    this.listen(\"Match/Playoffs/Generation\", \"gen_record\"),\n    this.listen(\"Match/Next\", \"next\")\n  ];\n\n  show = () => {\n    const { gen_record, next } = this.state;\n    // const gen_record_data = (gen_record?.record?.data as (PlayoffGenRecordData | undefined));\n    const data = as_playoffs(gen_record?.record?.data);\n\n    return <AudienceCard event_name={this.props.details.event_name} className=\"audience-playoff-bracket\">\n      <Row className=\"grow\">\n        {\n          data?.mode === \"Bracket\"\n            ? <PlayoffBracketGraph\n                gen_record={gen_record!}\n                next={next}\n              /> : data?.mode === \"DoubleBracket\"\n            ? <PlayoffDoubleBracketGraph\n                gen_record={gen_record!}\n                next={next}\n              /> : data?.mode === \"RoundRobin\"\n            ? <PlayoffRoundRobin\n                gen_record={gen_record!}\n                next={next}\n              /> : undefined\n        }\n      </Row>\n    </AudienceCard>\n  }\n\n}\n"],"mappings":"giBAAA,OAAcA,GAAd,KAAyB,iBAAzB,CAGA,MAAOC,aAAP,KAAyB,gBAAzB,CACA,MAAOC,kBAAP,KAA8B,qBAA9B,CACA,MAAOC,oBAAP,EAA8BC,WAA9B,KAAiD,2BAAjD,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,kBAAP,KAA8B,8BAA9B,CACA,MAAOC,0BAAP,KAAsC,iCAAtC,C,8CAOqBC,4B,+ZACVC,K,CAA0C,E,OAEnDC,iB,CAAoB,iBAAM,OAAKC,OAAL,CAAe,CACvC,MAAKC,MAAL,CAAY,2BAAZ,CAAyC,YAAzC,CADuC,CAEvC,MAAKA,MAAL,CAAY,YAAZ,CAA0B,MAA1B,CAFuC,CAArB,E,OAKpBC,I,CAAO,UAAM,wBACX,gBAA6B,MAAKJ,KAAlC,CAAQK,UAAR,aAAQA,UAAR,CAAoBC,IAApB,aAAoBA,IAApB,CACA;AACA,GAAMC,KAAI,CAAGZ,WAAW,CAACU,UAAD,SAACA,UAAD,qCAACA,UAAU,CAAEG,MAAb,6CAAC,mBAAoBD,IAArB,CAAxB,CAEA,mBAAO,KAAC,YAAD,EAAc,UAAU,CAAE,MAAKE,KAAL,CAAWC,OAAX,CAAmBC,UAA7C,CAAyD,SAAS,CAAC,0BAAnE,uBACL,KAAC,GAAD,EAAK,SAAS,CAAC,MAAf,UAEI,CAAAJ,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEK,IAAN,IAAe,SAAf,cACI,KAAC,mBAAD,EACE,UAAU,CAAEP,UADd,CAEE,IAAI,CAAEC,IAFR,EADJ,CAIS,CAAAC,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEK,IAAN,IAAe,eAAf,cACL,KAAC,yBAAD,EACE,UAAU,CAAEP,UADd,CAEE,IAAI,CAAEC,IAFR,EADK,CAIA,CAAAC,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEK,IAAN,IAAe,YAAf,cACL,KAAC,iBAAD,EACE,UAAU,CAAEP,UADd,CAEE,IAAI,CAAEC,IAFR,EADK,CAIAO,SAdb,EADK,EAAP,CAmBD,C,kEAhCsDpB,iB,SAApCM,2B"},"metadata":{},"sourceType":"module"}