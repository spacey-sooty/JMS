{"ast":null,"code":"import _defineProperty from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{faCheck,faTimes}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import EnumToggleGroup from\"components/elements/EnumToggleGroup\";import{FieldResourceSelector}from\"components/FieldPosSelector\";import _ from\"lodash\";import React from\"react\";import{Button,Col,Container,Row}from\"react-bootstrap\";import{Link,Route,Routes}from\"react-router-dom\";import{capitalise}from\"support/strings\";import{otherAlliance,withVal}from\"support/util\";import{ALLIANCES,NEAR_FAR}from\"support/ws-additional\";import{WebsocketComponent,withRole}from\"support/ws-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var RefereePanelBase=/*#__PURE__*/function(_WebsocketComponent){_inherits(RefereePanelBase,_WebsocketComponent);var _super=_createSuper(RefereePanelBase);function RefereePanelBase(){var _this;_classCallCheck(this,RefereePanelBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={stations:[]};_this.componentDidMount=function(){return _this.handles=[_this.listen(\"Arena/Alliance/CurrentStations\",\"stations\"),_this.listen(\"Arena/Match/Current\",\"match\"),_this.listen(\"Arena/Match/Score\",\"score\"),_this.listen(\"Arena/State/Current\",\"state\")];};_this.FoulsComponent=function(props){var alliance=props.alliance,score=props.score;var live=score.live,derived=score.derived;var categories=[{key:'fouls',name:\"FOUL\"},{key:'tech_fouls',name:\"TECHNICAL FOUL\"}];return/*#__PURE__*/_jsx(React.Fragment,{children:categories.map(function(category){return/*#__PURE__*/_jsxs(Col,{className:\"penalty-category\",\"data-alliance\":alliance,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{className:\"penalty-count\",children:[\" \",live.penalties[category.key],\" \"]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Button,{className:\"btn-block btn-penalty\",\"data-penalty-type\":category.key,variant:\"\".concat(alliance),onClick:function onClick(){return _this.updateScore(alliance,{Penalty:_defineProperty({},category.key,1)});},children:category.name}),/*#__PURE__*/_jsx(Button,{className:\"btn-block btn-penalty\",\"data-penalty-type\":category.key,variant:\"secondary\",onClick:function onClick(){return _this.updateScore(alliance,{Penalty:_defineProperty({},category.key,-1)});},children:\"SUBTRACT\"})]})})]});})});};return _this;}_createClass(RefereePanelBase,[{key:\"updateScore\",value:function updateScore(alliance,update){this.send({Arena:{Match:{ScoreUpdate:{alliance:alliance,update:update}}}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Container,{fluid:true,children:this.state.match!=null&&this.state.score!=null&&this.state.stations.length>0?this.renderIt():this.renderWaiting()});}}]);return RefereePanelBase;}(WebsocketComponent);var ENDGAME_MAP={None:\"None\",Parked:\"ENDGAME Park\",Docked:\"ENDGAME Docked\"};export var RefereeTeamCard=/*#__PURE__*/function(_React$PureComponent){_inherits(RefereeTeamCard,_React$PureComponent);var _super2=_createSuper(RefereeTeamCard);function RefereeTeamCard(){_classCallCheck(this,RefereeTeamCard);return _super2.apply(this,arguments);}_createClass(RefereeTeamCard,[{key:\"render\",value:function render(){var _this$props=this.props,idx=_this$props.idx,station=_this$props.station,score=_this$props.score,update=_this$props.update,endgame=_this$props.endgame;var alliance=station.station.alliance;var has_mobility=score.live.mobility[idx];return withVal(station.team,function(team){return/*#__PURE__*/_jsxs(Col,{className:\"referee-station\",\"data-alliance\":alliance,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{className:\"referee-station-team\",md:\"auto\",children:[\" \",team,\" \"]}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{className:\"btn-block referee-station-score\",\"data-score-type\":\"mobility\",\"data-score-value\":has_mobility,onClick:function onClick(){return update({Mobility:{station:idx,crossed:!has_mobility}});},children:has_mobility?/*#__PURE__*/_jsxs(React.Fragment,{children:[\" AUTO MOBILITY OK \\xA0 \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheck}),\"  \"]}):/*#__PURE__*/_jsxs(React.Fragment,{children:[\" NO AUTO MOBILITY \\xA0 \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes}),\" \"]})})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(EnumToggleGroup,{name:\"\".concat(team,\"-endgame\"),className:\"referee-station-score\",\"data-score-type\":\"endgame\",\"data-score-value\":score.live.endgame[idx],value:score.live.endgame[idx],values:_.keys(ENDGAME_MAP),names:_.values(ENDGAME_MAP),onChange:function onChange(v){return update({Endgame:{station:idx,endgame:v}});}// disabled={!endgame}\n})})})]});})||/*#__PURE__*/_jsx(Col,{});}}]);return RefereeTeamCard;}(React.PureComponent);export var AllianceReferee=/*#__PURE__*/function(_RefereePanelBase){_inherits(AllianceReferee,_RefereePanelBase);var _super3=_createSuper(AllianceReferee);function AllianceReferee(){_classCallCheck(this,AllianceReferee);return _super3.apply(this,arguments);}_createClass(AllianceReferee,[{key:\"renderWaiting\",value:function renderWaiting(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\" Waiting for Scorekeeper... \"}),/*#__PURE__*/_jsxs(\"i\",{className:\"text-muted\",children:[\" \",capitalise(this.props.alliance),\" \",capitalise(this.props.position),\" Referee \"]})]});}},{key:\"renderIt\",value:function renderIt(){var _this2=this,_match$remaining_time;var match=this.state.match;var score_all=this.state.score;var alliance=this.props.alliance;var other_alliance=otherAlliance(alliance);var score=score_all[alliance];var other_score=score_all[other_alliance];var flip=this.props.position===\"far\";var stations=this.state.stations.filter(function(s){return s.station.alliance===_this2.props.alliance;});return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-0\",children:[\" \",match.match_meta.name,\" \"]}),/*#__PURE__*/_jsxs(\"i\",{className:\"text-muted\",children:[\" \",capitalise(alliance),\" \",capitalise(this.props.position),\" Referee \"]})]}),/*#__PURE__*/_jsx(Col,{className:\"text-end\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-muted\",children:[\" \",match.state||\"--\",\" \\xA0 \",match===null||match===void 0?void 0:(_match$remaining_time=match.remaining_time)===null||_match$remaining_time===void 0?void 0:_match$remaining_time.secs,\"s \"]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(this.FoulsComponent,{alliance:flip?\"red\":\"blue\",score:score_all[flip?\"red\":\"blue\"]}),/*#__PURE__*/_jsx(this.FoulsComponent,{alliance:flip?\"blue\":\"red\",score:score_all[flip?\"blue\":\"red\"]})]}),/*#__PURE__*/_jsx(Row,{children:stations.map(function(station,i){return/*#__PURE__*/_jsx(RefereeTeamCard,{idx:i,station:station,score:score,update:function update(data){return _this2.updateScore(alliance,data);},endgame:(match===null||match===void 0?void 0:match.endgame)||false});})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Button,{className:\"btn-block referee-station-score\",\"data-score-type\":\"auto_docked\",\"data-score-value\":score.live.auto_docked,onClick:function onClick(){return _this2.updateScore(alliance,{AutoDocked:{docked:!score.live.auto_docked}});},children:score.live.auto_docked?/*#__PURE__*/_jsxs(React.Fragment,{children:[\" AUTO DOCKED \\xA0 \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheck}),\"  \"]}):/*#__PURE__*/_jsxs(React.Fragment,{children:[\" NO AUTO DOCKED \\xA0 \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes}),\" \"]})})})]});}}]);return AllianceReferee;}(RefereePanelBase);export var HeadReferee=/*#__PURE__*/function(_RefereePanelBase2){_inherits(HeadReferee,_RefereePanelBase2);var _super4=_createSuper(HeadReferee);function HeadReferee(){var _this3;_classCallCheck(this,HeadReferee);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this3=_super4.call.apply(_super4,[this].concat(args));_this3.renderTopBar=function(){var _match$match_meta,_match$remaining_time2;var _this3$state=_this3.state,match=_this3$state.match,state=_this3$state.state;return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-0\",children:[\" \",(match===null||match===void 0?void 0:(_match$match_meta=match.match_meta)===null||_match$match_meta===void 0?void 0:_match$match_meta.name)||\"Waiting for Scorekeeper...\",\" \"]}),/*#__PURE__*/_jsxs(\"h4\",{className:\"text-muted\",children:[\" \",(match===null||match===void 0?void 0:match.state)||\"--\",\" \\xA0 \",match===null||match===void 0?void 0:(_match$remaining_time2=match.remaining_time)===null||_match$remaining_time2===void 0?void 0:_match$remaining_time2.secs,\"s \"]})]})})});};return _this3;}_createClass(HeadReferee,[{key:\"renderWaiting\",value:function renderWaiting(){return this.renderTopBar();}},{key:\"renderIt\",value:function renderIt(){var score=this.state.score;return/*#__PURE__*/_jsxs(React.Fragment,{children:[this.renderTopBar(),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(this.FoulsComponent,{alliance:\"blue\",score:score.blue}),/*#__PURE__*/_jsx(this.FoulsComponent,{alliance:\"red\",score:score.red})]})]});}}]);return HeadReferee;}(RefereePanelBase);var RefereeSelector=/*#__PURE__*/function(_React$PureComponent2){_inherits(RefereeSelector,_React$PureComponent2);var _super5=_createSuper(RefereeSelector);function RefereeSelector(){_classCallCheck(this,RefereeSelector);return _super5.apply(this,arguments);}_createClass(RefereeSelector,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Col,{className:\"col-full\",children:/*#__PURE__*/_jsx(FieldResourceSelector,{title:\"Select Referee\",options:[{RefereePanel:\"HeadReferee\"},{RefereePanel:{Alliance:[\"red\",\"near\"]}},{RefereePanel:{Alliance:[\"red\",\"far\"]}},{RefereePanel:{Alliance:[\"blue\",\"near\"]}},{RefereePanel:{Alliance:[\"blue\",\"far\"]}}],wrap:function wrap(r,child){return/*#__PURE__*/_jsxs(Link,{to:r.RefereePanel===\"HeadReferee\"?\"head\":\"\".concat(r.RefereePanel.Alliance.join(\"/\")),children:[\" \",child,\" \"]});}})});}}]);return RefereeSelector;}(React.PureComponent);export function RefereeRouter(){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RefereeSelector,{})}),ALLIANCES.map(function(alliance){return NEAR_FAR.map(function(nearfar){return/*#__PURE__*/_jsx(Route,{path:\"\".concat(alliance,\"/\").concat(nearfar),element:withRole({RefereePanel:{Alliance:[alliance,nearfar]}},/*#__PURE__*/_jsx(AllianceReferee,{alliance:alliance,position:nearfar}))});});}),/*#__PURE__*/_jsx(Route,{path:\"head\",element:withRole({RefereePanel:\"HeadReferee\"},/*#__PURE__*/_jsx(HeadReferee,{}))})]});}","map":{"version":3,"names":["faCheck","faTimes","FontAwesomeIcon","EnumToggleGroup","FieldResourceSelector","_","React","Button","Col","Container","Row","Link","Route","Routes","capitalise","otherAlliance","withVal","ALLIANCES","NEAR_FAR","WebsocketComponent","withRole","RefereePanelBase","state","stations","componentDidMount","handles","listen","FoulsComponent","props","alliance","score","live","derived","categories","key","name","map","category","penalties","updateScore","Penalty","update","send","Arena","Match","ScoreUpdate","match","length","renderIt","renderWaiting","ENDGAME_MAP","None","Parked","Docked","RefereeTeamCard","idx","station","endgame","has_mobility","mobility","team","Mobility","crossed","keys","values","v","Endgame","PureComponent","AllianceReferee","position","score_all","other_alliance","other_score","flip","filter","s","match_meta","remaining_time","secs","i","data","auto_docked","AutoDocked","docked","HeadReferee","renderTopBar","blue","red","RefereeSelector","RefereePanel","Alliance","r","child","join","RefereeRouter","nearfar"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/scoring/Referee.tsx"],"sourcesContent":["import { faCheck, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport EnumToggleGroup from \"components/elements/EnumToggleGroup\";\nimport { FieldResourceSelector } from \"components/FieldPosSelector\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Button, Col, Container, Row } from \"react-bootstrap\";\nimport { Link, Route, Routes } from \"react-router-dom\";\nimport { capitalise } from \"support/strings\";\nimport { otherAlliance, withVal } from \"support/util\";\nimport { ALLIANCES, NEAR_FAR } from \"support/ws-additional\";\nimport { WebsocketComponent, withRole } from \"support/ws-component\";\nimport { Alliance, SerialisedAllianceStation, LoadedMatch, Penalties, SnapshotScore, ScoreUpdate, ArenaState, NearFar, MatchScoreSnapshot, EndgameType } from \"ws-schema\";\n\ntype RefereePanelState = {\n  match?: LoadedMatch,\n  stations: SerialisedAllianceStation[],\n  score?: MatchScoreSnapshot,\n  state?: ArenaState\n}\n\nabstract class RefereePanelBase<P={}> extends WebsocketComponent<P, RefereePanelState> {\n  readonly state: RefereePanelState = { stations: [] };\n\n  componentDidMount = () => this.handles = [\n    this.listen(\"Arena/Alliance/CurrentStations\", \"stations\"),\n    this.listen(\"Arena/Match/Current\", \"match\"),\n    this.listen(\"Arena/Match/Score\", \"score\"),\n    this.listen(\"Arena/State/Current\", \"state\")\n  ]\n\n  updateScore(alliance: Alliance, update: ScoreUpdate) {\n    this.send({ Arena: { Match: { ScoreUpdate: { alliance, update } } } })\n  }\n\n  FoulsComponent = (props: {alliance: Alliance, score: SnapshotScore}) => {\n    const { alliance, score } = props;\n    const { live, derived } = score;\n\n    const categories: { key: keyof Penalties, name: string }[] = [\n      { key: 'fouls', name: \"FOUL\" },\n      { key: 'tech_fouls', name: \"TECHNICAL FOUL\" }\n    ];\n\n    return <React.Fragment>\n      {\n        categories.map(category => <Col className=\"penalty-category\" data-alliance={alliance}>\n          <Row>\n            <Col className=\"penalty-count\"> { live.penalties[category.key] } </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Button\n                className=\"btn-block btn-penalty\"\n                data-penalty-type={category.key}\n                variant={`${alliance}`}\n                onClick={() => this.updateScore(alliance, { Penalty: { [category.key]: 1 } })}\n              >\n                {category.name}\n              </Button>\n              <Button\n                className=\"btn-block btn-penalty\"\n                data-penalty-type={category.key}\n                variant=\"secondary\"\n                onClick={() => this.updateScore(alliance, { Penalty: { [category.key]: -1 } })}\n              >\n                SUBTRACT\n              </Button>\n            </Col>\n          </Row>\n        </Col>)\n      }\n    </React.Fragment>\n  }\n\n  abstract renderIt(): React.ReactNode;\n  abstract renderWaiting(): React.ReactNode;\n\n  render() {\n    return <Container fluid>\n      {\n        (this.state.match != null && this.state.score != null && this.state.stations.length > 0) ? this.renderIt() : this.renderWaiting()\n      }\n    </Container>\n  }\n}\n\ntype RefereeTeamCardProps = {\n  idx: number,\n  station: SerialisedAllianceStation,\n  score: SnapshotScore,\n  update: ( data: ScoreUpdate ) => void,\n  endgame: boolean\n};\n\nconst ENDGAME_MAP: { [K in EndgameType]: string } = {\n  None: \"None\",\n  Parked: \"ENDGAME Park\",\n  Docked: \"ENDGAME Docked\"\n};\n\nexport class RefereeTeamCard extends React.PureComponent<RefereeTeamCardProps> {\n  render() {\n    const { idx, station, score, update, endgame } = this.props;\n    const alliance = station.station.alliance;\n\n    const has_mobility = score.live.mobility[idx];\n\n    return withVal(station.team, team => <Col className=\"referee-station\" data-alliance={alliance}>\n      <Row>\n        <Col className=\"referee-station-team\" md=\"auto\"> { team } </Col>\n        <Col>\n          <Button\n            className=\"btn-block referee-station-score\"\n            data-score-type=\"mobility\"\n            data-score-value={has_mobility}\n            onClick={() => update( { Mobility: { station: idx, crossed: !has_mobility } } )}\n          >\n            {\n              has_mobility ? <React.Fragment> AUTO MOBILITY OK &nbsp; <FontAwesomeIcon icon={faCheck} />  </React.Fragment>\n                : <React.Fragment> NO AUTO MOBILITY &nbsp; <FontAwesomeIcon icon={faTimes} /> </React.Fragment>\n            }\n          </Button>\n        </Col>\n      </Row>\n      <Row>\n          <Col>\n            <EnumToggleGroup\n              name={`${team}-endgame`}\n              className=\"referee-station-score\"\n              data-score-type=\"endgame\"\n              data-score-value={score.live.endgame[idx]}\n              value={score.live.endgame[idx]}\n              values={_.keys(ENDGAME_MAP) as EndgameType[]}\n              names={_.values(ENDGAME_MAP)}\n              onChange={v => update({ Endgame: { station: idx, endgame: v } })}\n              // disabled={!endgame}\n            />\n          </Col>\n      </Row>\n    </Col>) || <Col />\n  }\n}\n\ntype AllianceRefereeProps = {\n  alliance: Alliance,\n  position: NearFar\n};\n\nexport class AllianceReferee extends RefereePanelBase<AllianceRefereeProps> {\n\n  renderWaiting() {\n    return <React.Fragment>\n      <h3> Waiting for Scorekeeper... </h3>\n      <i className=\"text-muted\"> { capitalise(this.props.alliance) } { capitalise(this.props.position) } Referee </i>\n    </React.Fragment>\n  }\n\n  renderIt() {\n    const match = this.state.match!;\n    const score_all = this.state.score!;\n    const alliance = this.props.alliance;\n    const other_alliance = otherAlliance(alliance);\n    \n    const score = score_all[alliance];\n    const other_score = score_all[other_alliance];\n\n    const flip = this.props.position === \"far\";\n\n    const stations = this.state.stations.filter(s => s.station.alliance === this.props.alliance);\n\n    return <React.Fragment>\n      <Row className=\"mb-3\">\n        <Col>\n          <h3 className=\"mb-0\"> { match.match_meta.name } </h3>\n          <i className=\"text-muted\"> { capitalise(alliance) } { capitalise(this.props.position) } Referee </i>\n        </Col>\n        <Col className=\"text-end\">\n          <h3 className=\"text-muted\"> { match.state || \"--\" } &nbsp; { match?.remaining_time?.secs }s </h3>\n        </Col>\n      </Row>\n      <Row>\n        <this.FoulsComponent\n          alliance={flip ? \"red\" : \"blue\"}\n          score={score_all[flip ? \"red\" : \"blue\"]}\n        />\n        <this.FoulsComponent\n          alliance={flip ? \"blue\" : \"red\"}\n          score={score_all[flip ? \"blue\" : \"red\"]}\n        />\n      </Row>\n      <Row>\n        {\n          stations.map((station, i) => <RefereeTeamCard\n            idx={i}\n            station={station}\n            score={score}\n            update={(data) => this.updateScore(alliance, data)}\n            endgame={match?.endgame || false}\n          />)\n        }\n      </Row>\n      <Row>\n        <Button\n          className=\"btn-block referee-station-score\"\n          data-score-type=\"auto_docked\"\n          data-score-value={score.live.auto_docked}\n          onClick={() => this.updateScore(alliance,  { AutoDocked: { docked: !score.live.auto_docked } } )}\n        >\n          {\n            score.live.auto_docked ? <React.Fragment> AUTO DOCKED &nbsp; <FontAwesomeIcon icon={faCheck} />  </React.Fragment>\n              : <React.Fragment> NO AUTO DOCKED &nbsp; <FontAwesomeIcon icon={faTimes} /> </React.Fragment>\n          }\n        </Button>\n      </Row>\n    </React.Fragment>\n  }\n}\n\nexport class HeadReferee extends RefereePanelBase {\n  renderTopBar = () => {\n    const { match, state } = this.state;\n\n    return <React.Fragment>\n      <Row className=\"mb-3\">\n        <Col>\n          <h3 className=\"mb-0\"> { match?.match_meta?.name || \"Waiting for Scorekeeper...\" } </h3>\n          <h4 className=\"text-muted\"> { match?.state || \"--\" } &nbsp; { match?.remaining_time?.secs }s </h4>\n        </Col>\n        {/* <Col md=\"auto\" className=\"head-ref-field-ax\">\n          <Button\n            variant=\"purple\"\n            size=\"lg\"\n            onClick={() => this.send({ Arena: { Access: { Set: \"ResetOnly\" } } })}\n            disabled={!canChangeAccess || access === \"ResetOnly\"}\n          >\n            FIELD RESET\n          </Button>\n\n          <Button\n            variant=\"good\"\n            size=\"lg\"\n            onClick={() => this.send({ Arena: { Access: { Set: \"Teams\" } } })}\n            disabled={!canChangeAccess || access === \"Teams\"}\n          >\n            TEAMS ON FIELD\n          </Button>\n\n          <Button\n            variant=\"primary\"\n            size=\"lg\"\n            onClick={() => this.send({ Arena: { Access: { Set: \"NoRestriction\" } } })}\n            disabled={!canChangeAccess || access === \"NoRestriction\"}\n          >\n            NORMAL\n          </Button>\n        </Col> */}\n      </Row>\n    </React.Fragment>\n  }\n\n  renderWaiting() {\n    return this.renderTopBar()\n  }\n\n  renderIt() {\n    let score = this.state.score!;\n\n    return <React.Fragment>\n      { this.renderTopBar() }\n      <Row>\n        <this.FoulsComponent\n          alliance=\"blue\"\n          score={score.blue}\n        />\n        <this.FoulsComponent\n          alliance=\"red\"\n          score={score.red}\n        />\n      </Row>\n    </React.Fragment>\n  }\n}\n\nclass RefereeSelector extends React.PureComponent {\n  render() {\n    return <Col className=\"col-full\">\n      <FieldResourceSelector\n        title=\"Select Referee\"\n        options={[\n          { RefereePanel: \"HeadReferee\" },\n          { RefereePanel: { Alliance: [ \"red\", \"near\" ] } },\n          { RefereePanel: { Alliance: [ \"red\", \"far\" ] } },\n          { RefereePanel: { Alliance: [ \"blue\", \"near\" ] } },\n          { RefereePanel: { Alliance: [ \"blue\", \"far\" ] } },\n        ]}\n        wrap={(r, child) => <Link to={r.RefereePanel === \"HeadReferee\" ? \"head\" : `${r.RefereePanel.Alliance.join(\"/\")}`}> { child } </Link>}\n      />\n    </Col>\n  }\n}\n\nexport function RefereeRouter() {\n  return <Routes>\n    <Route path=\"/\" element={ <RefereeSelector /> } />\n    {\n      ALLIANCES.map(alliance => NEAR_FAR.map(nearfar => (\n        <Route path={`${alliance}/${nearfar}`} element={\n          withRole({ RefereePanel: { Alliance: [ alliance, nearfar ] } }, <AllianceReferee alliance={alliance} position={nearfar} />)\n        } />\n      )))\n    }\n    <Route path=\"head\" element={ withRole({ RefereePanel: \"HeadReferee\" }, <HeadReferee />) } />\n  </Routes>\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}