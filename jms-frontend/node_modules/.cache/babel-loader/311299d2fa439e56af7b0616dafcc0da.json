{"ast":null,"code":"import _defineProperty from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _objectSpread from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{faDownload,faExclamationTriangle,faHourglassHalf,faInfoCircle,faPlus,faTimes}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import BufferedFormControl from\"components/elements/BufferedFormControl\";import{confirmModal}from\"components/elements/Confirm\";import EditableFormControl from\"components/elements/EditableFormControl\";import EnumToggleGroup from\"components/elements/EnumToggleGroup\";import moment from\"moment\";import\"moment-duration-format\";import React from\"react\";import{Accordion,Button,Card,Col,Form,Row}from\"react-bootstrap\";import{WebsocketComponent}from\"support/ws-component\";import{EventWizardPageContent}from\"./EventWizard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ELEMENT_FORMAT=\"YYYY-MM-DD[T]HH:mm\";function mapBlock(block){var start_time=moment.unix(block.start_time);var end_time=moment.unix(block.end_time);var cycle_time=moment.duration(block.cycle_time,'milliseconds');var duration=moment.duration(end_time.diff(start_time));return _objectSpread(_objectSpread({},block),{},{start_time:start_time,end_time:end_time,cycle_time:cycle_time,duration:duration,num_matches:Math.floor(duration.asSeconds()/cycle_time.asSeconds())});}function unmapBlock(block){return{id:block.id,block_type:block.block_type,name:block.name,start_time:block.start_time.local().unix(),end_time:block.end_time.local().unix(),cycle_time:block.cycle_time.asMilliseconds()};}var MATCH_BLOCK_TYPES=[\"Qualification\",\"Playoff\"];var BLOCK_TYPES=[\"General\",\"Qualification\",\"Playoff\"];var ScheduleBlockComponent=/*#__PURE__*/function(_React$PureComponent){_inherits(ScheduleBlockComponent,_React$PureComponent);var _super=_createSuper(ScheduleBlockComponent);function ScheduleBlockComponent(){var _this;_classCallCheck(this,ScheduleBlockComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.updateDate=function(block,k,v){var m=moment(v);if(moment.isMoment(m)){var update=_objectSpread(_objectSpread({},block),{},_defineProperty({},k,m));if(k==\"start_time\"){// Also push back the end time\nupdate.end_time=block.end_time.clone().add(moment.duration(m.diff(block.start_time)));}_this.props.onUpdate(update);}};_this.updateTime=function(block,k,v){var d=moment.duration(v);if(moment.isDuration(d))_this.props.onUpdate(_objectSpread(_objectSpread({},block),{},_defineProperty({},k,d)));};return _this;}_createClass(ScheduleBlockComponent,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,block=_this$props.block,disabled=_this$props.disabled,_onUpdate=_this$props.onUpdate,onDelete=_this$props.onDelete;var duration=block.duration,start_time=block.start_time,end_time=block.end_time,cycle_time=block.cycle_time,num_matches=block.num_matches,block_type=block.block_type;var is_match_block=MATCH_BLOCK_TYPES.includes(block_type);return/*#__PURE__*/_jsx(Accordion,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"1\",className:\"text-center text-muted\",children:/*#__PURE__*/_jsxs(\"small\",{children:[start_time.format(\"HH:mm\"),/*#__PURE__*/_jsx(\"br\",{}),end_time.format(\"HH:mm\")]})}),/*#__PURE__*/_jsx(Col,{md:\"11\",children:/*#__PURE__*/_jsxs(Accordion.Item,{eventKey:\"0\",as:Card,border:is_match_block?\"primary\":\"secondary\",children:[/*#__PURE__*/_jsx(Accordion.Header,{className:\"wizard-schedule-header\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:5,children:[/*#__PURE__*/_jsx(EditableFormControl,{autofocus:true,disabled:disabled,value:block.name,onUpdate:function onUpdate(v){return _onUpdate(_objectSpread(_objectSpread({},block),{},{name:String(v)}));}}),is_match_block?/*#__PURE__*/_jsxs(\"i\",{className:\"text-muted\",children:[\" (\",block_type,\") \"]}):/*#__PURE__*/_jsx(React.Fragment,{})]}),/*#__PURE__*/_jsx(Col,{md:3,className:\"text-center\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:duration.format(\"h [hours], m [minutes]\",{trim:\"both\"})})}),/*#__PURE__*/_jsxs(Col,{md:4,className:\"text-end\",children:[is_match_block?/*#__PURE__*/_jsxs(\"span\",{children:[num_matches,\" Matches\",/*#__PURE__*/_jsx(\"span\",{className:\"text-muted mx-2\",children:\"\\u2022\"})]}):/*#__PURE__*/_jsx(React.Fragment,{}),disabled?/*#__PURE__*/_jsx(React.Fragment,{}):/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(e){e.stopPropagation();if(block.id!=null)onDelete(block.id);},className:\"text-danger mx-2\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})})]})]})}),/*#__PURE__*/_jsxs(Accordion.Body,{children:[/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(EnumToggleGroup,{name:\"block_type\",value:block_type,onChange:function onChange(v){return _onUpdate(_objectSpread(_objectSpread({},block),{},{block_type:v}));},values:BLOCK_TYPES,disabled:disabled})})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Start Time\"}),/*#__PURE__*/_jsx(BufferedFormControl,{auto:true,type:\"datetime-local\",value:start_time.format(ELEMENT_FORMAT),onUpdate:function onUpdate(v){return _this2.updateDate(block,\"start_time\",v);},disabled:disabled})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"End Time\"}),/*#__PURE__*/_jsx(BufferedFormControl,{auto:true,type:\"datetime-local\",value:end_time.format(ELEMENT_FORMAT),onUpdate:function onUpdate(v){return _this2.updateDate(block,\"end_time\",v);},disabled:disabled})]}),/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Cycle Time\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(BufferedFormControl,{auto:true,disabled:disabled||!is_match_block,type:\"number\",min:0,max:59,value:cycle_time.minutes(),onUpdate:function onUpdate(v){return _this2.updateTime(block,\"cycle_time\",\"00:\"+(v||0)+\":\"+cycle_time.seconds());}})}),/*#__PURE__*/_jsx(Col,{md:2,className:\"text-muted\",children:\"min\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(BufferedFormControl,{auto:true,disabled:disabled||!is_match_block,type:\"number\",min:0,max:59,value:cycle_time.seconds(),onUpdate:function onUpdate(v){return _this2.updateTime(block,\"cycle_time\",\"00:\"+cycle_time.minutes()+\":\"+(v||0));}})}),/*#__PURE__*/_jsx(Col,{md:2,className:\"text-muted\",children:\"sec\"})]}),/*#__PURE__*/_jsxs(Form.Text,{className:\"text-muted\",children:[num_matches,\" matches\"]})]})]})]})]})})]})});}}]);return ScheduleBlockComponent;}(React.PureComponent);var ConfigureSchedule=/*#__PURE__*/function(_WebsocketComponent){_inherits(ConfigureSchedule,_WebsocketComponent);var _super2=_createSuper(ConfigureSchedule);function ConfigureSchedule(){var _this3;_classCallCheck(this,ConfigureSchedule);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this3=_super2.call.apply(_super2,[this].concat(args));_this3.state={schedule:[],quals_generated:false,teams:[]};_this3.componentDidMount=function(){_this3.handles=[_this3.listenFn(\"Event/Schedule/CurrentBlocks\",function(msg){_this3.setState({schedule:msg.map(mapBlock)});}),_this3.listenFn(\"Match/Quals/Generation\",function(msg){var _msg$record;return _this3.setState({quals_generated:((_msg$record=msg.record)===null||_msg$record===void 0?void 0:_msg$record.data)!=null||msg.running});}),_this3.listen(\"Event/Team/CurrentAll\",\"teams\")];};_this3.genListElements=function(schedule,editable){var total_matches=0;var last=undefined;var elements=[];schedule.forEach(function(block){if(block.block_type===\"Qualification\")total_matches+=block.num_matches;if(last==null||last.end_time.date()!==block.start_time.date()){// New day - show it in the list\nelements.push(/*#__PURE__*/_jsx(\"div\",{className:\"wizard-schedule-day-split\",children:block.start_time.format(\"dddd, MMMM Do\")},\"\".concat(block.id,\"-new\")));}else if(last!=null){// Same day as the last one - calculate if there's a break\nvar break_time=moment.duration(block.start_time.diff(last.end_time));if(break_time.asSeconds()>0){elements.push(/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsxs(\"i\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faHourglassHalf}),\" \\xA0\",break_time.format(\"h [hours], m [minutes]\",{trim:\"both\"})]})})},\"\".concat(block.id,\"-break\")));}}elements.push(/*#__PURE__*/_jsx(\"div\",{className:\"my-3\",children:/*#__PURE__*/_jsx(ScheduleBlockComponent,{disabled:!editable,block:block,onUpdate:function onUpdate(new_mapped_block){return _this3.send({Event:{Schedule:{UpdateBlock:unmapBlock(new_mapped_block)}}});},onDelete:function onDelete(id){return _this3.send({Event:{Schedule:{DeleteBlock:id}}});}},block.id)}));last=block;});return{total_matches:total_matches,elements:elements};};_this3.loadDefault=function(){confirmModal(\"\",{data:moment(),title:\"Load 2-day default\",okText:\"Load Defaults\",renderInner:function renderInner(start_date,_onUpdate2){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faExclamationTriangle}),\" \\xA0 This will override any existing schedule! \"]}),/*#__PURE__*/_jsx(\"p\",{children:\" Start Date: \"}),/*#__PURE__*/_jsx(BufferedFormControl,{auto:true,type:\"date\",value:start_date.format(\"YYYY-MM-DD\"),onUpdate:function onUpdate(v){return _onUpdate2(moment(v));}})]});}}).then(function(start_date){_this3.send({Event:{Schedule:{LoadDefault:start_date.unix()}}});});};return _this3;}_createClass(ConfigureSchedule,[{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,schedule=_this$state.schedule,teams=_this$state.teams,quals_generated=_this$state.quals_generated;var num_teams=teams.filter(function(t){return t.schedule;}).length;var _this$genListElements=this.genListElements(schedule,!quals_generated),elements=_this$genListElements.elements,total_matches=_this$genListElements.total_matches;var matches_per_team=Math.floor(total_matches*6/(num_teams||1));return/*#__PURE__*/_jsxs(EventWizardPageContent,{tabLabel:\"Configure Schedule\",attention:schedule.length===0,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Configure Schedule\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faInfoCircle}),\" \\xA0 In this step, the schedule is blocked out. The schedule includes not only qualification matches, but also ceremonies, alliance selection, and playoff matches. To get started, load the 2-day default for a typical 2-day offseason event with a 13 minute gap between matches.\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{disabled:quals_generated,onClick:function onClick(){return _this4.send({Event:{Schedule:\"NewBlock\"}});},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlus}),\" \\xA0 Add Block\"]}),\"\\xA0\",/*#__PURE__*/_jsxs(Button,{disabled:quals_generated,onClick:this.loadDefault,variant:\"info\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faDownload}),\" \\xA0 Load 2-day Default\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"mx-3 float-end\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"text-muted\",children:\"Quals\"}),\" \\xA0\",/*#__PURE__*/_jsx(\"strong\",{children:total_matches}),\" matches\",/*#__PURE__*/_jsx(\"span\",{className:\"text-muted mx-2\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"strong\",{children:num_teams>6?matches_per_team:\"--\"}),\" per team\",/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"\\xA0 \",/*#__PURE__*/_jsxs(\"i\",{children:[\"+ \",num_teams>6?total_matches*6-matches_per_team*num_teams:\"--\",\" \"]})]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),elements]});}}]);return ConfigureSchedule;}(WebsocketComponent);export{ConfigureSchedule as default};","map":{"version":3,"names":["faDownload","faExclamationTriangle","faHourglassHalf","faInfoCircle","faPlus","faTimes","FontAwesomeIcon","BufferedFormControl","confirmModal","EditableFormControl","EnumToggleGroup","moment","React","Accordion","Button","Card","Col","Form","Row","WebsocketComponent","EventWizardPageContent","ELEMENT_FORMAT","mapBlock","block","start_time","unix","end_time","cycle_time","duration","diff","num_matches","Math","floor","asSeconds","unmapBlock","id","block_type","name","local","asMilliseconds","MATCH_BLOCK_TYPES","BLOCK_TYPES","ScheduleBlockComponent","updateDate","k","v","m","isMoment","update","clone","add","props","onUpdate","updateTime","d","isDuration","disabled","onDelete","is_match_block","includes","format","String","trim","e","stopPropagation","minutes","seconds","PureComponent","ConfigureSchedule","state","schedule","quals_generated","teams","componentDidMount","handles","listenFn","msg","setState","map","record","data","running","listen","genListElements","editable","total_matches","last","undefined","elements","forEach","date","push","break_time","new_mapped_block","send","Event","Schedule","UpdateBlock","DeleteBlock","loadDefault","title","okText","renderInner","start_date","then","LoadDefault","num_teams","filter","t","length","matches_per_team"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/wizard/ConfigureSchedule.tsx"],"sourcesContent":["import { faDownload, faExclamationTriangle, faHourglassHalf, faInfoCircle, faPlus, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport BufferedFormControl from \"components/elements/BufferedFormControl\";\nimport { confirmModal } from \"components/elements/Confirm\";\nimport EditableFormControl from \"components/elements/EditableFormControl\";\nimport EnumToggleGroup from \"components/elements/EnumToggleGroup\";\nimport moment from \"moment\";\nimport \"moment-duration-format\";\nimport React from \"react\";\nimport { Accordion, Button, Card, Col, Form, Row } from \"react-bootstrap\";\nimport { Combine } from \"support/util\";\nimport { WebsocketComponent } from \"support/ws-component\";\nimport { ScheduleBlock, SerialisedMatchGeneration, Team } from \"ws-schema\";\nimport { EventWizardPageContent } from \"./EventWizard\";\n\nconst ELEMENT_FORMAT = \"YYYY-MM-DD[T]HH:mm\";\n\ntype MappedScheduleBlock = Combine<{\n  start_time: moment.Moment,\n  end_time: moment.Moment,\n  cycle_time: moment.Duration,\n  duration: moment.Duration,\n  num_matches: number\n}, ScheduleBlock>\n\nfunction mapBlock(block: ScheduleBlock): MappedScheduleBlock {\n  let start_time = moment.unix(block.start_time);\n  let end_time = moment.unix(block.end_time);\n  let cycle_time = moment.duration(block.cycle_time, 'milliseconds');\n  let duration = moment.duration(end_time.diff(start_time));\n\n  return {\n    ...block,\n    start_time, end_time, cycle_time,\n    duration,\n    num_matches: Math.floor(duration.asSeconds() / cycle_time.asSeconds())\n  };\n}\n\nfunction unmapBlock(block: MappedScheduleBlock): ScheduleBlock {\n  return {\n    id: block.id,\n    block_type: block.block_type,\n    name: block.name,\n    start_time: block.start_time.local().unix(),\n    end_time: block.end_time.local().unix(),\n    cycle_time: block.cycle_time.asMilliseconds()\n  };\n}\n\ntype ScheduleBlockComponentProps = {\n  block: MappedScheduleBlock,\n  disabled: boolean,\n  onUpdate: (new_block: MappedScheduleBlock) => void,\n  onDelete: (block_id: number) => void\n};\n\nconst MATCH_BLOCK_TYPES = [ \"Qualification\", \"Playoff\" ];\nconst BLOCK_TYPES = [ \"General\", \"Qualification\", \"Playoff\" ];\n\nclass ScheduleBlockComponent extends React.PureComponent<ScheduleBlockComponentProps> {\n\n  updateDate = (block: MappedScheduleBlock, k: keyof MappedScheduleBlock, v: string | number) => {\n    let m = moment(v);\n    if (moment.isMoment(m)) {\n      let update = {\n        ...block, [k]: m\n      };\n\n      if (k == \"start_time\") {\n        // Also push back the end time\n        update.end_time = block.end_time.clone().add(moment.duration(m.diff(block.start_time)));\n      }\n\n      this.props.onUpdate(update);\n    }\n  }\n\n  updateTime = (block: MappedScheduleBlock, k: keyof MappedScheduleBlock, v: string | number) => {\n    let d = moment.duration(v);\n    if (moment.isDuration(d))\n      this.props.onUpdate({ ...block, [k]: d });\n  }\n\n  render() {\n    let { block, disabled, onUpdate, onDelete } = this.props;\n    let { duration, start_time, end_time, cycle_time, num_matches, block_type } = block;\n\n    let is_match_block = MATCH_BLOCK_TYPES.includes(block_type);\n\n    return <Accordion>\n      <Row>\n        <Col md=\"1\" className=\"text-center text-muted\">\n          <small>\n            { start_time.format(\"HH:mm\") }\n            <br />\n            { end_time.format(\"HH:mm\") }\n          </small>\n        </Col>\n        <Col md=\"11\">\n          <Accordion.Item eventKey=\"0\" as={Card} border={ is_match_block ? \"primary\" : \"secondary\" }>\n            <Accordion.Header className=\"wizard-schedule-header\">\n              <Row>\n                <Col md={5}>\n                  <EditableFormControl\n                    autofocus\n                    disabled={disabled}\n                    value={block.name}\n                    onUpdate={v => onUpdate({ ...block, name: String(v) })}\n                  />\n\n                  {\n                    is_match_block ? <i className=\"text-muted\"> ({block_type}) </i> : <React.Fragment />\n                  }\n                </Col>\n                <Col md={3} className=\"text-center\">\n                  <small className=\"text-muted\">\n                    { duration.format(\"h [hours], m [minutes]\", { trim: \"both\" }) }\n                  </small>\n                </Col>\n                <Col md={4} className=\"text-end\">\n                  {\n                    is_match_block ? \n                      <span>\n                        { num_matches } Matches\n                        <span className=\"text-muted mx-2\">•</span>\n                      </span> : <React.Fragment />\n                  }\n                  {\n                    disabled ? <React.Fragment /> : \n                      <a onClick={e => { e.stopPropagation(); if (block.id != null) onDelete(block.id!) }} className=\"text-danger mx-2\">\n                        <FontAwesomeIcon icon={faTimes} />\n                      </a>\n                  }\n                </Col>\n              </Row>\n            </Accordion.Header>\n            <Accordion.Body>\n              <Row className=\"mb-3\">\n                <Col>\n                  <EnumToggleGroup\n                    name=\"block_type\"\n                    value={block_type}\n                    onChange={ (v: any) => onUpdate({ ...block, block_type: v as ScheduleBlock[\"block_type\"] }) }\n                    values={BLOCK_TYPES}\n                    disabled={disabled}\n                  />\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <Form.Label>Start Time</Form.Label>\n\n                  <BufferedFormControl\n                    auto\n                    type=\"datetime-local\"\n                    value={ start_time.format(ELEMENT_FORMAT) }\n                    onUpdate={ v => this.updateDate(block, \"start_time\", v) }\n                    disabled={disabled}\n                  />\n                </Col>\n                <Col>\n                  <Form.Label>End Time</Form.Label>\n\n                  <BufferedFormControl\n                    auto\n                    type=\"datetime-local\"\n                    value={ end_time.format(ELEMENT_FORMAT) }\n                    onUpdate={ v => this.updateDate(block, \"end_time\", v) }\n                    disabled={disabled}\n                  />\n                </Col>\n                <Col md={3}>\n                  <Form.Label>Cycle Time</Form.Label>\n                  <Row>\n                    <Col>\n                      <BufferedFormControl\n                        auto\n                        disabled={disabled || !is_match_block}\n                        type=\"number\"\n                        min={0}\n                        max={59}\n                        value={ cycle_time.minutes() }\n                        onUpdate={ v => this.updateTime(block, \"cycle_time\", \"00:\" + (v || 0) + \":\" + cycle_time.seconds()) }\n                      />\n                    </Col>\n                    <Col md={2} className=\"text-muted\">\n                      min\n                    </Col>\n                    <Col>\n                      <BufferedFormControl\n                        auto\n                        disabled={disabled || !is_match_block}\n                        type=\"number\"\n                        min={0}\n                        max={59}\n                        value={ cycle_time.seconds() }\n                        onUpdate={ v => this.updateTime(block, \"cycle_time\", \"00:\" + cycle_time.minutes() + \":\" + (v || 0)) }\n                      />\n                    </Col>\n                    <Col md={2} className=\"text-muted\">\n                      sec\n                    </Col>\n                  </Row>\n\n                  <Form.Text className=\"text-muted\">\n                    { num_matches } matches\n                  </Form.Text>\n                </Col>\n              </Row>\n            </Accordion.Body>\n          </Accordion.Item>\n        </Col>\n      </Row>\n      \n    </Accordion>\n    }\n}\n\ntype ConfigureScheduleState = {\n  schedule: MappedScheduleBlock[],\n  quals_generated: boolean,\n  teams: Team[]\n};\n\nexport default class ConfigureSchedule extends WebsocketComponent<{}, ConfigureScheduleState> {\n  readonly state: ConfigureScheduleState = {\n    schedule: [],\n    quals_generated: false,\n    teams: []\n  }\n\n  componentDidMount = () => {\n    this.handles = [\n      this.listenFn<ScheduleBlock[]>(\"Event/Schedule/CurrentBlocks\", msg => {\n        this.setState({ schedule: msg.map(mapBlock) })\n      }),\n      this.listenFn<SerialisedMatchGeneration>(\"Match/Quals/Generation\", msg => this.setState({\n        quals_generated: msg.record?.data != null || msg.running\n      })),\n      this.listen(\"Event/Team/CurrentAll\", \"teams\")\n    ]\n  }\n\n  genListElements = (schedule: MappedScheduleBlock[], editable: boolean) => {\n    let total_matches = 0;\n    let last: MappedScheduleBlock | undefined = undefined;\n    let elements: React.ReactNode[] = [];\n\n    schedule.forEach((block) => {\n      if (block.block_type === \"Qualification\")\n        total_matches += block.num_matches;\n      \n      if (last == null || last.end_time.date() !== block.start_time.date()) {\n        // New day - show it in the list\n        elements.push(<div key={`${block.id}-new`} className=\"wizard-schedule-day-split\">\n          { block.start_time.format(\"dddd, MMMM Do\") }\n        </div>)\n      } else if (last != null) {\n        // Same day as the last one - calculate if there's a break\n        const break_time = moment.duration(block.start_time.diff(last.end_time));\n        if (break_time.asSeconds() > 0) {\n          elements.push(<p key={`${block.id}-break`} className=\"text-center text-muted\">\n            <small><i>\n              <FontAwesomeIcon icon={faHourglassHalf} /> &nbsp;\n              { break_time.format(\"h [hours], m [minutes]\", { trim: \"both\" }) }\n            </i></small>\n          </p>)\n        }\n      }\n\n      elements.push(<div className=\"my-3\">\n        <ScheduleBlockComponent\n          key={block.id}\n          disabled={!editable}\n          block={block}\n          onUpdate={new_mapped_block => this.send({\n            Event: { Schedule: { UpdateBlock: unmapBlock(new_mapped_block) } }\n          })}\n          onDelete={id => this.send({\n            Event: { Schedule: { DeleteBlock: id } }\n          })}\n        />\n      </div>)\n\n      last = block;\n    });\n\n    return { total_matches, elements };\n  }\n\n  loadDefault = () => {\n    confirmModal(\"\", {\n      data: moment(),\n      title: \"Load 2-day default\",\n      okText: \"Load Defaults\",\n      renderInner: (start_date: moment.Moment, onUpdate) => <React.Fragment>\n        <p> <FontAwesomeIcon icon={faExclamationTriangle} /> &nbsp; This will override any existing schedule! </p>\n        <p> Start Date: </p>\n        <BufferedFormControl\n          auto\n          type=\"date\"\n          value={start_date.format(\"YYYY-MM-DD\")}\n          onUpdate={v => onUpdate(moment(v))}\n        />\n      </React.Fragment>\n    }).then(start_date => {\n      this.send({\n        Event: { Schedule: { LoadDefault: start_date.unix() } }\n      })\n    })\n  }\n\n  render() {\n    const { schedule, teams, quals_generated } = this.state;\n\n    const num_teams = teams.filter(t => t.schedule).length;\n    const { elements, total_matches } = this.genListElements(schedule, !quals_generated);\n\n    let matches_per_team = Math.floor((total_matches * 6) / (num_teams || 1));\n\n    return <EventWizardPageContent tabLabel=\"Configure Schedule\" attention={schedule.length === 0}>\n      <h4>Configure Schedule</h4>\n      <p className=\"text-muted\">\n        <FontAwesomeIcon icon={faInfoCircle} /> &nbsp;\n        In this step, the schedule is blocked out. The schedule includes not only qualification matches, but also ceremonies, alliance selection, and \n        playoff matches. To get started, load the 2-day default for a typical 2-day offseason event with a 13 minute gap between matches.\n      </p>\n      \n      <div>\n        <Button\n          disabled={quals_generated}\n          onClick={() => this.send({ Event: { Schedule: \"NewBlock\" } })}\n        > \n          <FontAwesomeIcon icon={faPlus} /> &nbsp; Add Block \n        </Button> \n        &nbsp;\n        <Button disabled={quals_generated} onClick={this.loadDefault} variant=\"info\">\n          <FontAwesomeIcon icon={faDownload} /> &nbsp; Load 2-day Default\n        </Button>\n\n        <span className=\"mx-3 float-end\">\n          <i className=\"text-muted\">Quals</i> &nbsp;\n          <strong>{ total_matches }</strong> matches\n          <span className=\"text-muted mx-2\">•</span>\n          <strong>{ num_teams > 6 ? matches_per_team : \"--\" }</strong> per team\n          <span className=\"text-muted\">\n            &nbsp; <i>+ {\n              num_teams > 6 ? ( (total_matches * 6) - (matches_per_team * num_teams)) : \"--\"\n            } </i>\n          </span>\n        </span>\n      </div>\n\n      <br />\n\n      { elements }\n    </EventWizardPageContent>\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}