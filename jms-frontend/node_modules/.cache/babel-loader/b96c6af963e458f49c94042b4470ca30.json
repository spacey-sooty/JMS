{"ast":null,"code":"import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{WebsocketComponent}from\"support/ws-component\";import AudienceSceneAllianceSelection from\"./AllianceSelection\";import AudienceSceneAward from\"./Award\";import{AudienceSceneField}from\"./BaseAudienceScene\";import AudienceSceneCustomMessage from\"./CustomMessage\";import AudienceSceneMatchPlay from\"./MatchPlay\";import AudienceSceneMatchPreview from\"./MatchPreview\";import AudienceSceneMatchResults from\"./MatchResults\";import AudienceScenePlayoffBracket from\"./PlayoffBracket\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Audience=/*#__PURE__*/function(_WebsocketComponent){_inherits(Audience,_WebsocketComponent);var _super=_createSuper(Audience);function Audience(){var _this;_classCallCheck(this,Audience);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.componentDidMount=function(){return _this.handles=[_this.listen(\"Arena/AudienceDisplay/Current\",\"scene\"),_this.listen(\"Event/Details/Current\",\"event_details\")];};return _this;}_createClass(Audience,[{key:\"render\",value:function render(){var _this$state=this.state,scene=_this$state.scene,event_details=_this$state.event_details;if(scene!=null&&event_details!=null){// Render all, but only one is active at a time\n// This way, each element keeps its own listen  so we don't have to wait for websocket updates after mount\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"audience-root\",style:{\"--chroma-key-colour\":event_details.av_chroma_key,\"--event-colour\":event_details.av_event_colour},children:[/*#__PURE__*/_jsx(AudienceSceneField,{details:event_details,props:scene.scene===\"Field\"?{}:undefined}),/*#__PURE__*/_jsx(AudienceSceneCustomMessage,{details:event_details,props:scene.scene===\"CustomMessage\"?{msg:scene.params}:undefined}),/*#__PURE__*/_jsx(AudienceSceneAward,{details:event_details,props:scene.scene===\"Award\"?scene.params:undefined}),/*#__PURE__*/_jsx(AudienceSceneMatchPreview,{details:event_details,props:scene.scene===\"MatchPreview\"?{}:undefined}),/*#__PURE__*/_jsx(AudienceSceneMatchPlay,{details:event_details,props:scene.scene===\"MatchPlay\"?{}:undefined}),/*#__PURE__*/_jsx(AudienceSceneMatchResults,{details:event_details,props:scene.scene===\"MatchResults\"?{match:scene.params}:undefined}),/*#__PURE__*/_jsx(AudienceSceneAllianceSelection,{details:event_details,props:scene.scene===\"AllianceSelection\"?{}:undefined}),/*#__PURE__*/_jsx(AudienceScenePlayoffBracket,{details:event_details,props:scene.scene===\"PlayoffBracket\"?{}:undefined})]});}else{return/*#__PURE__*/_jsx(React.Fragment,{});}}}]);return Audience;}(WebsocketComponent);export{Audience as default};","map":{"version":3,"names":["React","WebsocketComponent","AudienceSceneAllianceSelection","AudienceSceneAward","AudienceSceneField","AudienceSceneCustomMessage","AudienceSceneMatchPlay","AudienceSceneMatchPreview","AudienceSceneMatchResults","AudienceScenePlayoffBracket","Audience","state","componentDidMount","handles","listen","scene","event_details","av_chroma_key","av_event_colour","undefined","msg","params","match"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/audience/Audience.tsx"],"sourcesContent":["import React from \"react\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { WebsocketComponent } from \"support/ws-component\";\nimport { AudienceDisplay, EventDetails } from \"ws-schema\";\nimport AudienceSceneAllianceSelection from \"./AllianceSelection\";\nimport AudienceSceneAward from \"./Award\";\nimport { AudienceSceneField } from \"./BaseAudienceScene\";\nimport AudienceSceneCustomMessage from \"./CustomMessage\";\nimport AudienceSceneMatchPlay from \"./MatchPlay\";\nimport AudienceSceneMatchPreview from \"./MatchPreview\";\nimport AudienceSceneMatchResults from \"./MatchResults\";\nimport AudienceScenePlayoffBracket from \"./PlayoffBracket\";\n\ntype AudienceState = {\n  scene?: AudienceDisplay,\n  event_details?: EventDetails\n}\n\nexport default class Audience extends WebsocketComponent<{}, AudienceState> {\n  readonly state: AudienceState = {};\n\n  componentDidMount = () => this.handles = [\n    this.listen(\"Arena/AudienceDisplay/Current\", \"scene\"),\n    this.listen(\"Event/Details/Current\", \"event_details\")\n  ];\n\n  render() {\n    const { scene, event_details } = this.state;\n    \n    if (scene != null && event_details != null) {\n      // Render all, but only one is active at a time\n      // This way, each element keeps its own listen  so we don't have to wait for websocket updates after mount\n      return <div className=\"audience-root\" style={ { \"--chroma-key-colour\": event_details.av_chroma_key, \"--event-colour\": event_details.av_event_colour } as React.CSSProperties }>\n        {/* <TransitionGroup> */}\n          <AudienceSceneField details={event_details} props={scene.scene === \"Field\" ? {} : undefined} />\n          <AudienceSceneCustomMessage details={event_details} props={scene.scene === \"CustomMessage\" ? { msg: scene.params } : undefined} />\n          <AudienceSceneAward details={event_details} props={scene.scene === \"Award\" ? scene.params : undefined} />\n          <AudienceSceneMatchPreview details={event_details} props={scene.scene === \"MatchPreview\" ? {} : undefined} />\n          <AudienceSceneMatchPlay details={event_details} props={scene.scene === \"MatchPlay\" ? {} : undefined} />\n          <AudienceSceneMatchResults details={event_details} props={scene.scene === \"MatchResults\" ? { match: scene.params } : undefined} />\n          <AudienceSceneAllianceSelection details={event_details} props={scene.scene === \"AllianceSelection\" ? {} : undefined} />\n          <AudienceScenePlayoffBracket details={event_details} props={scene.scene === \"PlayoffBracket\" ? {} : undefined} />\n        {/* </TransitionGroup> */}\n    </div>\n    } else {\n      return <React.Fragment />\n    }\n  }\n}\n"],"mappings":"giBAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,kBAAT,KAAmC,sBAAnC,CAEA,MAAOC,+BAAP,KAA2C,qBAA3C,CACA,MAAOC,mBAAP,KAA+B,SAA/B,CACA,OAASC,kBAAT,KAAmC,qBAAnC,CACA,MAAOC,2BAAP,KAAuC,iBAAvC,CACA,MAAOC,uBAAP,KAAmC,aAAnC,CACA,MAAOC,0BAAP,KAAsC,gBAAtC,CACA,MAAOC,0BAAP,KAAsC,gBAAtC,CACA,MAAOC,4BAAP,KAAwC,kBAAxC,C,2FAOqBC,S,qVACVC,K,CAAuB,E,OAEhCC,iB,CAAoB,iBAAM,OAAKC,OAAL,CAAe,CACvC,MAAKC,MAAL,CAAY,+BAAZ,CAA6C,OAA7C,CADuC,CAEvC,MAAKA,MAAL,CAAY,uBAAZ,CAAqC,eAArC,CAFuC,CAArB,E,0DAKpB,iBAAS,CACP,gBAAiC,KAAKH,KAAtC,CAAQI,KAAR,aAAQA,KAAR,CAAeC,aAAf,aAAeA,aAAf,CAEA,GAAID,KAAK,EAAI,IAAT,EAAiBC,aAAa,EAAI,IAAtC,CAA4C,CAC1C;AACA;AACA,mBAAO,aAAK,SAAS,CAAC,eAAf,CAA+B,KAAK,CAAG,CAAE,sBAAuBA,aAAa,CAACC,aAAvC,CAAsD,iBAAkBD,aAAa,CAACE,eAAtF,CAAvC,wBAEH,KAAC,kBAAD,EAAoB,OAAO,CAAEF,aAA7B,CAA4C,KAAK,CAAED,KAAK,CAACA,KAAN,GAAgB,OAAhB,CAA0B,EAA1B,CAA+BI,SAAlF,EAFG,cAGH,KAAC,0BAAD,EAA4B,OAAO,CAAEH,aAArC,CAAoD,KAAK,CAAED,KAAK,CAACA,KAAN,GAAgB,eAAhB,CAAkC,CAAEK,GAAG,CAAEL,KAAK,CAACM,MAAb,CAAlC,CAA0DF,SAArH,EAHG,cAIH,KAAC,kBAAD,EAAoB,OAAO,CAAEH,aAA7B,CAA4C,KAAK,CAAED,KAAK,CAACA,KAAN,GAAgB,OAAhB,CAA0BA,KAAK,CAACM,MAAhC,CAAyCF,SAA5F,EAJG,cAKH,KAAC,yBAAD,EAA2B,OAAO,CAAEH,aAApC,CAAmD,KAAK,CAAED,KAAK,CAACA,KAAN,GAAgB,cAAhB,CAAiC,EAAjC,CAAsCI,SAAhG,EALG,cAMH,KAAC,sBAAD,EAAwB,OAAO,CAAEH,aAAjC,CAAgD,KAAK,CAAED,KAAK,CAACA,KAAN,GAAgB,WAAhB,CAA8B,EAA9B,CAAmCI,SAA1F,EANG,cAOH,KAAC,yBAAD,EAA2B,OAAO,CAAEH,aAApC,CAAmD,KAAK,CAAED,KAAK,CAACA,KAAN,GAAgB,cAAhB,CAAiC,CAAEO,KAAK,CAAEP,KAAK,CAACM,MAAf,CAAjC,CAA2DF,SAArH,EAPG,cAQH,KAAC,8BAAD,EAAgC,OAAO,CAAEH,aAAzC,CAAwD,KAAK,CAAED,KAAK,CAACA,KAAN,GAAgB,mBAAhB,CAAsC,EAAtC,CAA2CI,SAA1G,EARG,cASH,KAAC,2BAAD,EAA6B,OAAO,CAAEH,aAAtC,CAAqD,KAAK,CAAED,KAAK,CAACA,KAAN,GAAgB,gBAAhB,CAAmC,EAAnC,CAAwCI,SAApG,EATG,GAAP,CAYD,CAfD,IAeO,CACL,mBAAO,KAAC,KAAD,CAAO,QAAP,IAAP,CACD,CACF,C,sBA7BmClB,kB,SAAjBS,Q"},"metadata":{},"sourceType":"module"}