{"ast":null,"code":"import _classCallCheck from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{confirmModal,withConfirm}from\"components/elements/Confirm\";import Paginate from\"components/elements/Paginate\";import React from\"react\";import{Button,Col,Container,Modal,Row}from\"react-bootstrap\";import{WebsocketComponent}from\"support/ws-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Debug=/*#__PURE__*/function(_WebsocketComponent){_inherits(Debug,_WebsocketComponent);var _super=_createSuper(Debug);function Debug(){var _this;_classCallCheck(this,Debug);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={matches:[]};_this.componentDidMount=function(){return _this.handles=[_this.listen(\"Ticket/All\",\"tickets\"),_this.listen(\"Match/All\",\"matches\")];};_this.selectUnplayed=function(cb){confirmModal(\"\",{data:\"\",title:\"Fill Random\",render:function render(ok,cancel){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Paginate,{itemsPerPage:10,children:_this.state.matches.filter(function(m){return m.ready&&!m.played;}).map(function(m){return/*#__PURE__*/_jsxs(Button,{className:\"btn-block m-1\",onClick:function onClick(){return ok(m.id);},children:[\" \",m.name,\" \"]});})})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{onClick:cancel,variant:\"secondary\",children:\" Cancel \"})})]});}}).then(cb);};return _this;}_createClass(Debug,[{key:\"render\",value:function render(){var _this2=this;var screen=window.screen;var root=document.documentElement;return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h2\",{children:\" Debug Information \"})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\" Device Details \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Screen dimensions: \",screen.width,\" x \",screen.height,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Screen dimensions (avail): \",screen.availWidth,\" x \",screen.availHeight,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Device pixel ratio: \",window.devicePixelRatio,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Root Element Dimensions: \",root.clientWidth,\" x \",root.clientHeight,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Window Inner Dimensions: \",window.innerWidth,\" x \",window.innerHeight,\" \"]})]})}),!this.props.fta?/*#__PURE__*/_jsx(React.Fragment,{}):/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:\"auto\",className:\"mx-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\" Tests \"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){_this2.transact({Debug:{ReplyTest:\"Hello World!\"}},\"Debug/ReplyTest\").then(function(data){return alert(JSON.stringify(data));}).catch(function(reason){return alert(\"CATCH: \".concat(reason));});},children:\"Test Reply\"})]}),/*#__PURE__*/_jsxs(Col,{md:\"auto\",className:\"mx-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\" Matches \"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return withConfirm(function(){return _this2.send({Debug:{Match:{FillRandomScores:null}}});});},variant:\"danger\",children:\"Random Fill (all)\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.selectUnplayed(function(id){return _this2.send({Debug:{Match:{FillRandomScores:id}}});});},variant:\"danger\",children:\"Random Fill (select)\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return withConfirm(function(){return _this2.send({Debug:{Match:\"DeleteAll\"}});});},variant:\"danger\",children:\"DELETE ALL (DANGER)\"})]})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"code\",{children:[\" \",JSON.stringify(this.state.tickets||{},null,2),\" \"]})})})]});}}]);return Debug;}(WebsocketComponent);export{Debug as default};","map":{"version":3,"names":["confirmModal","withConfirm","Paginate","React","Button","Col","Container","Modal","Row","WebsocketComponent","Debug","state","matches","componentDidMount","handles","listen","selectUnplayed","cb","data","title","render","ok","cancel","filter","m","ready","played","map","id","name","then","screen","window","root","document","documentElement","width","height","availWidth","availHeight","devicePixelRatio","clientWidth","clientHeight","innerWidth","innerHeight","props","fta","transact","ReplyTest","alert","JSON","stringify","catch","reason","send","Match","FillRandomScores","tickets"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/src/Debug.tsx"],"sourcesContent":["import { confirmModal, withConfirm } from \"components/elements/Confirm\";\nimport Paginate from \"components/elements/Paginate\";\nimport React from \"react\";\nimport { Button, Col, Container, Modal, Row } from \"react-bootstrap\";\nimport { WebsocketComponent } from \"support/ws-component\";\nimport { SerializedMatch, SupportTicket } from \"ws-schema\";\n\ntype DebugState = {\n  tickets?: SupportTicket[],\n  matches: SerializedMatch[]\n};\n\nexport default class Debug extends WebsocketComponent<{ fta: boolean }, DebugState> {\n  readonly state: DebugState = { matches: [] };\n\n  componentDidMount = () => this.handles = [\n    this.listen(\"Ticket/All\", \"tickets\"),\n    this.listen(\"Match/All\", \"matches\")\n  ];\n\n  selectUnplayed = (cb: (id: string) => void) => {\n    confirmModal(\"\", {\n      data: \"\",\n      title: \"Fill Random\",\n      render: (ok, cancel) => <React.Fragment>\n        <Modal.Body>\n          <Paginate itemsPerPage={10}>\n            {\n              this.state.matches.filter(m => m.ready && !m.played).map(m => (\n                <Button className=\"btn-block m-1\" onClick={() => ok(m.id!)}> { m.name } </Button>\n              ))\n            }\n          </Paginate>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={cancel} variant=\"secondary\"> Cancel </Button>\n        </Modal.Footer>\n      </React.Fragment>\n    }).then(cb)\n  }\n\n  render() {\n    let screen = window.screen;\n    let root = document.documentElement;\n\n    return <Container>\n      <Row>\n        <Col>\n          <h2> Debug Information </h2>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <h4> Device Details </h4>\n          <p> Screen dimensions: { screen.width } x { screen.height } </p>\n          <p> Screen dimensions (avail): { screen.availWidth } x { screen.availHeight } </p>\n          <p> Device pixel ratio: { window.devicePixelRatio } </p>\n          <p> Root Element Dimensions: { root.clientWidth } x { root.clientHeight } </p>\n          <p> Window Inner Dimensions: { window.innerWidth } x { window.innerHeight } </p>\n        </Col>\n      </Row>\n      {\n        !this.props.fta ? <React.Fragment /> : <React.Fragment>\n          <Row>\n            <Col md=\"auto\" className=\"mx-3\">\n              <h4> Tests </h4>\n              <Button onClick={() => {\n                this.transact<String>({ Debug: { ReplyTest: \"Hello World!\" } }, \"Debug/ReplyTest\")\n                  .then(data => alert(JSON.stringify(data)))\n                  .catch(reason => alert(`CATCH: ${reason}`))\n              }}>\n                Test Reply\n              </Button>\n            </Col>\n            <Col md=\"auto\" className=\"mx-3\">\n              <h4> Matches </h4>\n              <Button\n                onClick={() => withConfirm(() => this.send({ Debug: { Match: { FillRandomScores: null } } }))}\n                variant=\"danger\"\n              >\n                Random Fill (all)\n              </Button>\n              <br />\n              <br />\n              <Button\n                onClick={() => this.selectUnplayed(id => this.send({ Debug: { Match: { FillRandomScores: id } } }))}\n                variant=\"danger\"\n              >\n                Random Fill (select)\n              </Button>\n              <br />\n              <br />\n              <Button\n                onClick={() => withConfirm(() => this.send({ Debug: { Match: \"DeleteAll\" } }))}\n                variant=\"danger\"\n              >\n                DELETE ALL (DANGER)\n              </Button>\n            </Col>\n          </Row>\n        </React.Fragment>\n      }\n      <Row>\n        <Col>\n          <code> { JSON.stringify(this.state.tickets || {}, null, 2) } </code>\n        </Col>\n      </Row>\n    </Container>\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}