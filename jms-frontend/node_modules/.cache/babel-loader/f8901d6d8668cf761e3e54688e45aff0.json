{"ast":null,"code":"import isEqual from 'fast-deep-equal';\nimport getOptionProperty from './getOptionProperty';\nimport { isFunction, isString } from './nodash';\nimport stripDiacritics from './stripDiacritics';\nimport warn from './warn';\n\nfunction isMatch(input, string, props) {\n  var searchStr = input;\n  var str = string;\n\n  if (!props.caseSensitive) {\n    searchStr = searchStr.toLowerCase();\n    str = str.toLowerCase();\n  }\n\n  if (props.ignoreDiacritics) {\n    searchStr = stripDiacritics(searchStr);\n    str = stripDiacritics(str);\n  }\n\n  return str.indexOf(searchStr) !== -1;\n}\n/**\n * Default algorithm for filtering results.\n */\n\n\nexport default function defaultFilterBy(option, props) {\n  var filterBy = props.filterBy,\n      labelKey = props.labelKey,\n      multiple = props.multiple,\n      selected = props.selected,\n      text = props.text; // Don't show selected options in the menu for the multi-select case.\n\n  if (multiple && selected.some(function (o) {\n    return isEqual(o, option);\n  })) {\n    return false;\n  }\n\n  if (isFunction(labelKey)) {\n    return isMatch(text, labelKey(option), props);\n  }\n\n  var fields = filterBy.slice();\n\n  if (isString(labelKey)) {\n    // Add the `labelKey` field to the list of fields if it isn't already there.\n    if (fields.indexOf(labelKey) === -1) {\n      fields.unshift(labelKey);\n    }\n  }\n\n  if (isString(option)) {\n    warn(fields.length <= 1, 'You cannot filter by properties when `option` is a string.');\n    return isMatch(text, option, props);\n  }\n\n  return fields.some(function (field) {\n    var value = getOptionProperty(option, field);\n\n    if (!isString(value)) {\n      warn(false, 'Fields passed to `filterBy` should have string values. Value will ' + 'be converted to a string; results may be unexpected.');\n      value = String(value);\n    }\n\n    return isMatch(text, value, props);\n  });\n}","map":{"version":3,"names":["isEqual","getOptionProperty","isFunction","isString","stripDiacritics","warn","isMatch","input","string","props","searchStr","str","caseSensitive","toLowerCase","ignoreDiacritics","indexOf","defaultFilterBy","option","filterBy","labelKey","multiple","selected","text","some","o","fields","slice","unshift","length","field","value","String"],"sources":["/home/spacey_sooty/Documents/projects/JMS/jms-frontend/node_modules/react-bootstrap-typeahead/es/utils/defaultFilterBy.js"],"sourcesContent":["import isEqual from 'fast-deep-equal';\nimport getOptionProperty from './getOptionProperty';\nimport { isFunction, isString } from './nodash';\nimport stripDiacritics from './stripDiacritics';\nimport warn from './warn';\n\nfunction isMatch(input, string, props) {\n  var searchStr = input;\n  var str = string;\n\n  if (!props.caseSensitive) {\n    searchStr = searchStr.toLowerCase();\n    str = str.toLowerCase();\n  }\n\n  if (props.ignoreDiacritics) {\n    searchStr = stripDiacritics(searchStr);\n    str = stripDiacritics(str);\n  }\n\n  return str.indexOf(searchStr) !== -1;\n}\n/**\n * Default algorithm for filtering results.\n */\n\n\nexport default function defaultFilterBy(option, props) {\n  var filterBy = props.filterBy,\n      labelKey = props.labelKey,\n      multiple = props.multiple,\n      selected = props.selected,\n      text = props.text; // Don't show selected options in the menu for the multi-select case.\n\n  if (multiple && selected.some(function (o) {\n    return isEqual(o, option);\n  })) {\n    return false;\n  }\n\n  if (isFunction(labelKey)) {\n    return isMatch(text, labelKey(option), props);\n  }\n\n  var fields = filterBy.slice();\n\n  if (isString(labelKey)) {\n    // Add the `labelKey` field to the list of fields if it isn't already there.\n    if (fields.indexOf(labelKey) === -1) {\n      fields.unshift(labelKey);\n    }\n  }\n\n  if (isString(option)) {\n    warn(fields.length <= 1, 'You cannot filter by properties when `option` is a string.');\n    return isMatch(text, option, props);\n  }\n\n  return fields.some(function (field) {\n    var value = getOptionProperty(option, field);\n\n    if (!isString(value)) {\n      warn(false, 'Fields passed to `filterBy` should have string values. Value will ' + 'be converted to a string; results may be unexpected.');\n      value = String(value);\n    }\n\n    return isMatch(text, value, props);\n  });\n}"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,iBAApB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,UAArC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgCC,KAAhC,EAAuC;EACrC,IAAIC,SAAS,GAAGH,KAAhB;EACA,IAAII,GAAG,GAAGH,MAAV;;EAEA,IAAI,CAACC,KAAK,CAACG,aAAX,EAA0B;IACxBF,SAAS,GAAGA,SAAS,CAACG,WAAV,EAAZ;IACAF,GAAG,GAAGA,GAAG,CAACE,WAAJ,EAAN;EACD;;EAED,IAAIJ,KAAK,CAACK,gBAAV,EAA4B;IAC1BJ,SAAS,GAAGN,eAAe,CAACM,SAAD,CAA3B;IACAC,GAAG,GAAGP,eAAe,CAACO,GAAD,CAArB;EACD;;EAED,OAAOA,GAAG,CAACI,OAAJ,CAAYL,SAAZ,MAA2B,CAAC,CAAnC;AACD;AACD;AACA;AACA;;;AAGA,eAAe,SAASM,eAAT,CAAyBC,MAAzB,EAAiCR,KAAjC,EAAwC;EACrD,IAAIS,QAAQ,GAAGT,KAAK,CAACS,QAArB;EAAA,IACIC,QAAQ,GAAGV,KAAK,CAACU,QADrB;EAAA,IAEIC,QAAQ,GAAGX,KAAK,CAACW,QAFrB;EAAA,IAGIC,QAAQ,GAAGZ,KAAK,CAACY,QAHrB;EAAA,IAIIC,IAAI,GAAGb,KAAK,CAACa,IAJjB,CADqD,CAK9B;;EAEvB,IAAIF,QAAQ,IAAIC,QAAQ,CAACE,IAAT,CAAc,UAAUC,CAAV,EAAa;IACzC,OAAOxB,OAAO,CAACwB,CAAD,EAAIP,MAAJ,CAAd;EACD,CAFe,CAAhB,EAEI;IACF,OAAO,KAAP;EACD;;EAED,IAAIf,UAAU,CAACiB,QAAD,CAAd,EAA0B;IACxB,OAAOb,OAAO,CAACgB,IAAD,EAAOH,QAAQ,CAACF,MAAD,CAAf,EAAyBR,KAAzB,CAAd;EACD;;EAED,IAAIgB,MAAM,GAAGP,QAAQ,CAACQ,KAAT,EAAb;;EAEA,IAAIvB,QAAQ,CAACgB,QAAD,CAAZ,EAAwB;IACtB;IACA,IAAIM,MAAM,CAACV,OAAP,CAAeI,QAAf,MAA6B,CAAC,CAAlC,EAAqC;MACnCM,MAAM,CAACE,OAAP,CAAeR,QAAf;IACD;EACF;;EAED,IAAIhB,QAAQ,CAACc,MAAD,CAAZ,EAAsB;IACpBZ,IAAI,CAACoB,MAAM,CAACG,MAAP,IAAiB,CAAlB,EAAqB,4DAArB,CAAJ;IACA,OAAOtB,OAAO,CAACgB,IAAD,EAAOL,MAAP,EAAeR,KAAf,CAAd;EACD;;EAED,OAAOgB,MAAM,CAACF,IAAP,CAAY,UAAUM,KAAV,EAAiB;IAClC,IAAIC,KAAK,GAAG7B,iBAAiB,CAACgB,MAAD,EAASY,KAAT,CAA7B;;IAEA,IAAI,CAAC1B,QAAQ,CAAC2B,KAAD,CAAb,EAAsB;MACpBzB,IAAI,CAAC,KAAD,EAAQ,uEAAuE,sDAA/E,CAAJ;MACAyB,KAAK,GAAGC,MAAM,CAACD,KAAD,CAAd;IACD;;IAED,OAAOxB,OAAO,CAACgB,IAAD,EAAOQ,KAAP,EAAcrB,KAAd,CAAd;EACD,CATM,CAAP;AAUD"},"metadata":{},"sourceType":"module"}